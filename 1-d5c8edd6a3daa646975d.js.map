{"version":3,"sources":["webpack:///./node_modules/@narative/gatsby-theme-novela/src/components/Image/Image.tsx","webpack:///./node_modules/@narative/gatsby-theme-novela/src/components/Image/Image.Zoom.tsx","webpack:///./node_modules/@narative/gatsby-theme-novela/src/components/Image/Image.Placeholder.tsx","webpack:///./node_modules/@narative/gatsby-theme-novela/src/components/Image/index.ts","webpack:///./node_modules/core-js/modules/es6.number.constructor.js","webpack:///./node_modules/react-medium-image-zoom/lib/defaults.js","webpack:///./node_modules/react-medium-image-zoom/lib/helpers.js","webpack:///./node_modules/core-js/modules/_string-html.js","webpack:///./node_modules/react-medium-image-zoom/lib/keyboardEvents.js","webpack:///./node_modules/gatsby-image/index.js","webpack:///./node_modules/core-js/modules/es6.string.fixed.js","webpack:///./node_modules/react-medium-image-zoom/lib/index.js","webpack:///./node_modules/react-medium-image-zoom/lib/ImageZoom.js","webpack:///./node_modules/react-medium-image-zoom/lib/EventsWrapper.js","webpack:///./node_modules/react-medium-image-zoom/lib/Zoom.js","webpack:///./node_modules/react-medium-image-zoom/lib/Overlay.js"],"names":["StyledGatsbyImag","Object","styled_base_browser_esm","GatsbyImg","target","name","styles","Image","_ref","src","imgProps","_objectSpread","alt","_objectWithoutPropertiesLoose","isGatsby","width","height","Compontent","tracedSVG","core_browser_esm","ImageZoom","props","theme","useThemeUI","image","Image_Zoom_objectSpread","className","style","display","margin","lib_default","a","zoomImage","onZoom","background","colors","Array","from","document","getElementsByClassName","map","img","previousElementSibling","tagName","defaultStyles","borderRadius","Container","mediaqueries","phablet","_templateObject","ImagePlaceholder","containerRef","useRef","_useState","useState","dimensions","setDimensions","useEffect","current","getBoundingClientRect","handleResize","window","addEventListener","removeEventListener","_extends","ref","__webpack_require__","d","__webpack_exports__","components_Image_Image","Image_Zoom","Image_Placeholder","global","has","cof","inheritIfRequired","toPrimitive","fails","gOPN","f","gOPD","dP","$trim","trim","$Number","Base","proto","prototype","BROKEN_COF","TRIM","String","toNumber","argument","it","length","third","radix","maxCode","first","charCodeAt","NaN","code","digits","slice","i","l","parseInt","value","arguments","that","this","valueOf","call","key","keys","split","j","constructor","defineProperty","exports","defaults","errors","controlled","uncontrolled","cursor","position","transition","transform","transformOrigin","willChange","zoomContainer","top","right","bottom","left","zIndex","overlay","backgroundColor","opacity","transitionDuration","createPortalContainer","tag","portal","createElement","body","appendChild","removePortalContainer","removeChild","fetchImage","cb","srcSet","sizes","onLoad","srcset","getScale","zoomMargin","scaleX","innerWidth","scaleY","innerHeight","Math","min","getMaxDimensionScale","_ref2","naturalWidth","naturalHeight","scale","ratio","isMaxDimension","clientWidth","clientHeight","$export","defined","quot","createHTML","string","attribute","S","p1","replace","module","NAME","exec","O","P","F","test","toLowerCase","enterKey","keyCode","isKey","e","indexOf","isSpaceBarKey","isEnterOrSpaceBarKey","isTabKey","isEscapeKey","_interopRequireDefault","require","__esModule","default","io","_inheritsLoose2","_assertThisInitialized2","_objectWithoutPropertiesLoose2","_extends2","_react","_propTypes","convertProps","convertedProps","resolutions","critical","fixed","fluid","loading","groupByMedia","concat","getImageSrcKey","imageCache","create","inImageCache","hasNativeLazyLoadSupport","HTMLImageElement","isBrowser","hasIOSupport","IntersectionObserver","listeners","WeakMap","generateImageSources","imageVariants","srcSetWebp","media","Fragment","type","withMedia","without","forEach","variant","push","generateTracedSVGSources","_ref3","generateBase64Sources","_ref4","base64","generateNoscriptSource","_ref5","isWebp","listenToIntersections","el","observer","entries","entry","get","isIntersecting","intersectionRatio","unobserve","delete","rootMargin","observe","set","noscriptImg","title","crossOrigin","draggable","join","Placeholder","_ref6","generateSources","spreadProps","baseImage","Img","forwardRef","onError","otherProps","objectFit","objectPosition","propTypes","object","func","_React$Component","_this","seenBefore","addNoScript","fadeIn","useIOSupport","isVisible","state","imgLoaded","imgCached","imageRef","createRef","handleImageLoaded","bind","handleRef","_proto","componentDidMount","onStartLoad","wasCached","complete","componentWillUnmount","cleanUpListeners","_this2","imageInCache","setState","currentSrc","render","_convertProps","_convertProps$style","_convertProps$imgStyl","imgStyle","_convertProps$placeho","placeholderStyle","placeholderClassName","durationFadeIn","Tag","itemProp","shouldReveal","shouldFadeIn","imageStyle","bgColor","delayHideStyle","transitionDelay","imagePlaceholderStyle","placeholderImageProps","overflow","JSON","stringify","paddingBottom","aspectRatio","dangerouslySetInnerHTML","__html","_imageVariants","_image","divStyle","Component","defaultProps","fixedObject","shape","number","isRequired","srcWebp","fluidObject","oneOfType","arrayOf","bool","oneOf","_default","obj","_ImageZoom","_ImageZoom2","assign","source","hasOwnProperty","_createClass","defineProperties","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react2","_defaults2","_helpers","_keyboardEvents","_EventsWrapper2","_Zoom2","isControlled","isZoomed","_Component","instance","TypeError","_classCallCheck","self","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","isDisabled","wasZoomed","prevSrc","isClosing","_handleKeyDown","_handleLoad","_handleLoadError","_handleUnzoom","_handleZoom","subClass","superClass","setPrototypeOf","_inherits","prevProps","prevState","Error","prevIsZoomed","portalInstance","unzoom","force","_props","propsIsZoomed","shouldRespectMaxDimension","_state","stateIsZoomed","attrs","tabIndex","_getImageStyle","onMouseDown","_preventFocus","onClick","onKeyDown","x","node","controlledEventFn","_getControlledEventFn","allowAccessibilityClose","_allowTabNavigation","Number","onUnzoom","_props2","_props3","isZoomedP","_state2","isZoomedSt","isHidden","visibility","_checkShouldDisableComponent","Function","preventDefault","shouldHandleZoom","allowRefocus","_this3","changes","shouldReplaceImage","focus","_reactDom","EventsWrapper","_handleScroll","_handleResize","_handleTouchStart","_handleTouchMove","_handleTouchEnd","pageYOffset","loadTimeout","setTimeout","clearTimeout","createPortal","_cloneChild","undefined","child","cloneElement","Children","only","children","unzoomForEnterOrSpace","unzoomForEscape","forceUpdate","abs","yTouchPosition","touches","clientY","element","getControlledEventFn","_Overlay2","Zoom","hasLoaded","tmpSrc","_handleImageLoad","_props$zoomImage","_getZoomImageStyle","_getZoomContainerStyle","TmpImg","imageOffset","viewportX","viewportY","zoomStyle","_objectWithoutProperties","getTmpStyle","tmpStyle","Overlay","_PureComponent","isMounted","PureComponent","_getStyle"],"mappings":"8fAWA,IAAMA,EAAmBC,OAAAC,EAAA,EAAAD,CAAOE,IAAP,CAAAC,OAAA,aAAAH,CAAH,CAAAI,KAAA,UAAAC,OAAA,+BAyDPC,EApCgB,SAAAC,GAA4B,IAAzBC,EAAyBD,EAAzBC,IAG1BC,6UAAQC,CAAA,CACZC,IAJuDJ,EAApBI,yIAAoBC,CAAAL,EAAA,gBASzD,IAAKC,EAAK,OAAO,KAGjB,IAAMK,EAA0B,iBAARL,EAexBC,GATGI,GAAYL,EAAIM,OAASN,EAAIO,OAAU,QAEvCF,GAAY,UAEb,OAKoBL,EAGtB,IAAMQ,EAAaR,EAAIS,UAAYf,IAAYH,EAG/C,OAAOc,EAAWb,OAAAkB,EAAA,EAAAlB,CAACgB,EAAeP,GAAeT,OAAAkB,EAAA,EAAAlB,CAAA,MAASS,gYCrB7CU,MA3Bf,SAAmBC,GAAO,IAChBC,EAAUC,cAAVD,MAEFE,6UAAQC,CAAA,GACTJ,EADM,CAETK,UAAW,cACXC,MAAO,CACLC,QAAS,QACTC,OAAQ,SACRd,MAAO,UAIX,OACEd,OAAAkB,EAAA,EAAAlB,CAAC6B,EAAAC,EAAD,CACEP,MAAOA,EACPQ,UAAWR,EACXS,OAAQ,kBA9BqBC,EA8BWZ,EAAMa,OAAOD,gBA7B1CE,MAAMC,KAAKC,SAASC,uBAAuB,gBAEnDC,IAAI,SAAAC,GAEPA,EAAIC,wBACmC,QAAvCD,EAAIC,uBAAuBC,UAE3BF,EAAIC,uBAAuBf,MAAMO,WAAaA,KARpD,IAAmCA,GA+B7BU,cAAe,CACbZ,UAAW,CACTa,aAAc,gXChCxB,IAAMC,EAAY7C,OAAAC,EAAA,EAAAD,CAAA,OAAHG,OAAA,aAAGH,CAAH,8IAWX8C,IAAaC,QAXFC,MAuCAC,MAvBf,SAA0B7B,GACxB,IAAM8B,EAAeC,iBAAuB,MADbC,EAEKC,mBAAS,CAAEvC,MAAO,EAAGC,OAAQ,IAA1DuC,EAFwBF,EAAA,GAEZG,EAFYH,EAAA,GAc/B,OAVAI,oBAAU,WACRD,EAAcL,EAAaO,QAAQC,yBAEnC,IAAMC,EAAe,kBACnBJ,EAAcL,EAAaO,QAAQC,0BAGrC,OADAE,OAAOC,iBAAiB,SAAUF,GAC3B,kBAAMC,OAAOE,oBAAoB,SAAUH,KACjD,IAGD3D,OAAAkB,EAAA,EAAAlB,CAAC6C,EAADkB,EAAA,CAAWC,IAAKd,GAAkB9B,GAChCpB,OAAAkB,EAAA,EAAAlB,CAAA,WACGsD,EAAWxC,MADd,MACwBwC,EAAWvC,UCtCzCkD,EAAAC,EAAAC,EAAA,sBAAAC,IAAAH,EAAAC,EAAAC,EAAA,sBAAAE,IAAAJ,EAAAC,EAAAC,EAAA,sBAAAG,sCCCA,IAAAC,EAAaN,EAAQ,GACrBO,EAAUP,EAAQ,IAClBQ,EAAUR,EAAQ,IAClBS,EAAwBT,EAAQ,KAChCU,EAAkBV,EAAQ,KAC1BW,EAAYX,EAAQ,IACpBY,EAAWZ,EAAQ,IAAgBa,EACnCC,EAAWd,EAAQ,KAAgBa,EACnCE,EAASf,EAAQ,IAAca,EAC/BG,EAAYhB,EAAQ,KAAgBiB,KAEpCC,EAAAZ,EAAA,OACAa,EAAAD,EACAE,EAAAF,EAAAG,UAEAC,EALA,UAKAd,EAAqBR,EAAQ,GAARA,CAA0BoB,IAC/CG,EAAA,SAAAC,OAAAH,UAGAI,EAAA,SAAAC,GACA,IAAAC,EAAAjB,EAAAgB,GAAA,GACA,oBAAAC,KAAAC,OAAA,GAEA,IACAC,EAAAC,EAAAC,EADAC,GADAL,EAAAJ,EAAAI,EAAAV,OAAAD,EAAAW,EAAA,IACAM,WAAA,GAEA,QAAAD,GAAA,KAAAA,GAEA,SADAH,EAAAF,EAAAM,WAAA,KACA,MAAAJ,EAAA,OAAAK,SACK,QAAAF,EAAA,CACL,OAAAL,EAAAM,WAAA,IACA,gBAAAH,EAAA,EAAoCC,EAAA,GAAc,MAClD,iBAAAD,EAAA,EAAqCC,EAAA,GAAc,MACnD,eAAAJ,EAEA,QAAAQ,EAAAC,EAAAT,EAAAU,MAAA,GAAAC,EAAA,EAAAC,EAAAH,EAAAR,OAAoEU,EAAAC,EAAOD,IAI3E,IAHAH,EAAAC,EAAAH,WAAAK,IAGA,IAAAH,EAAAJ,EAAA,OAAAG,IACO,OAAAM,SAAAJ,EAAAN,IAEJ,OAAAH,GAGH,IAAAT,EAAA,UAAAA,EAAA,QAAAA,EAAA,SACAA,EAAA,SAAAuB,GACA,IAAAd,EAAAe,UAAAd,OAAA,IAAAa,EACAE,EAAAC,KACA,OAAAD,aAAAzB,IAEAI,EAAAX,EAAA,WAA0CS,EAAAyB,QAAAC,KAAAH,KAxC1C,UAwCsEnC,EAAAmC,IACtElC,EAAA,IAAAU,EAAAM,EAAAE,IAAAgB,EAAAzB,GAAAO,EAAAE,IAEA,QAMAoB,EANAC,EAAkBhD,EAAQ,GAAgBY,EAAAO,GAAA,6KAM1C8B,MAAA,KAAAC,EAAA,EAA2BF,EAAApB,OAAAsB,EAAiBA,IAC5C3C,EAAAY,EAAA4B,EAAAC,EAAAE,MAAA3C,EAAAW,EAAA6B,IACAhC,EAAAG,EAAA6B,EAAAjC,EAAAK,EAAA4B,IAGA7B,EAAAG,UAAAD,EACAA,EAAA+B,YAAAjC,EACElB,EAAQ,GAARA,CAAqBM,EAxDvB,SAwDuBY,sCCjEvBlB,EAAQ,IAERjE,OAAAqH,eAAAC,EAAA,cACAZ,OAAA,IAEA,IACAa,EAAA,CACAC,OAAA,CACAC,WAAA,gTACAC,aAAA,iTAEArH,OAAA,CACAkB,MAAA,CACAoG,OAAA,WAEA5F,UAAA,CACA4F,OAAA,WACAC,SAAA,WACAC,WAAA,kBACAC,UAAA,gCACAC,gBAAA,gBACAC,WAAA,wBAEAC,cAAA,CACAL,SAAA,QACAM,IAAA,EACAC,MAAA,EACAC,OAAA,EACAC,KAAA,EACAC,OAAA,KAEAC,QAAA,CACAX,SAAA,WACAM,IAAA,EACAC,MAAA,EACAC,OAAA,EACAC,KAAA,EACAG,gBAAA,OACAC,QAAA,EACAZ,WAAA,kBAGAa,mBArCA,KAuCApB,EAAA,QAAAC,oCC5CAtD,EAAQ,IAERjE,OAAAqH,eAAAC,EAAA,cACAZ,OAAA,IAGAY,EAAAqB,sBAAA,SAAAC,GACA,IAAAC,EAAAxG,SAAAyG,cAAAF,GAEA,OADAvG,SAAA0G,KAAAC,YAAAH,GACAA,GAGAvB,EAAA2B,sBAAA,SAAAJ,GACAxG,SAAA0G,KAAAG,YAAAL,IAGAvB,EAAA6B,WAAA,SAAA5H,EAAA6H,GACA,IAAA5I,EAAAe,EAAAf,IACA6I,EAAA9H,EAAA8H,OACAC,EAAA/H,EAAA+H,MACA9G,EAAA,IAAAlC,MAaAkC,EAAAqB,iBAAA,OAXA,SAAA0F,IACAH,EAAA5G,GAOAA,EAAAsB,oBAAA,OAAAyF,KAIA/G,EAAAhC,MACA6I,IAAA7G,EAAAgH,OAAAH,GACAC,IAAA9G,EAAA8G,UA9BA,IAsCAG,EAAAnC,EAAAmC,SAAA,SAAAlJ,GACA,IAAAO,EAAAP,EAAAO,MACAC,EAAAR,EAAAQ,OACA2I,EAAAnJ,EAAAmJ,WACAC,EAAA/F,OAAAgG,YAAA9I,EAAA4I,GACAG,EAAAjG,OAAAkG,aAAA/I,EAAA2I,GACA,OAAAK,KAAAC,IAAAL,EAAAE,IAQAvC,EAAA2C,qBAAA,SAAAC,GACA,IAAApJ,EAAAoJ,EAAApJ,MACAC,EAAAmJ,EAAAnJ,OACAoJ,EAAAD,EAAAC,aACAC,EAAAF,EAAAE,cACAV,EAAAQ,EAAAR,WACAW,EAAAZ,EAAA,CACA3I,MAAAqJ,EACApJ,OAAAqJ,EACAV,eAEAY,EAAAH,EAAAC,EAAAD,EAAArJ,EAAAsJ,EAAArJ,EACA,OAAAsJ,EAAA,EAAAC,EAAAD,EAAAC,GAGAhD,EAAAiD,eAAA,SAAA/H,GACA,OAAAA,EAAAgI,aAAAhI,EAAA2H,cAAA3H,EAAAiI,cAAAjI,EAAA4H,oCC5EA,IAAAM,EAAczG,EAAQ,GACtBW,EAAYX,EAAQ,IACpB0G,EAAc1G,EAAQ,IACtB2G,EAAA,KAEAC,EAAA,SAAAC,EAAAlC,EAAAmC,EAAArE,GACA,IAAAsE,EAAAvF,OAAAkF,EAAAG,IACAG,EAAA,IAAArC,EAEA,MADA,KAAAmC,IAAAE,GAAA,IAAAF,EAAA,KAAAtF,OAAAiB,GAAAwE,QAAAN,EAAA,UAA0F,KAC1FK,EAAA,IAAAD,EAAA,KAAApC,EAAA,KAEAuC,EAAA7D,QAAA,SAAA8D,EAAAC,GACA,IAAAC,EAAA,GACAA,EAAAF,GAAAC,EAAAR,GACAH,IAAAa,EAAAb,EAAAc,EAAA5G,EAAA,WACA,IAAA6G,EAAA,GAAAL,GAAA,KACA,OAAAK,MAAAC,eAAAD,EAAAvE,MAAA,KAAArB,OAAA,IACG,SAAAyF,sCCfHrH,EAAQ,IAERA,EAAQ,IAERA,EAAQ,IAERA,EAAQ,GAERA,EAAQ,IAERjE,OAAAqH,eAAAC,EAAA,cACAZ,OAAA,IAEA,IAAAiF,EAAA,CACA1E,KAAA,UACA2E,QAAA,IAkCAC,EAAA,SAAAtL,GACA,IAAAqL,EAAArL,EAAAqL,QACA3E,EAAA1G,EAAA0G,KACA,gBAAA6E,GACA,OAAAA,EAAAF,QAAAE,EAAAF,aAAA,IAAA3E,EAAA8E,QAAAD,EAAA9E,OAUAgF,GALA1E,EAAA2E,qBAAA,SAAAH,GACA,OAAAD,EAAAF,EAAAE,CAAAC,IAAAE,EAAAF,IAGAxE,EAAA4E,SAAAL,EA7CA,CACA5E,KAAA,QACA2E,QAAA,IA4CAtE,EAAA0E,cAAAH,EA1CA,CACA5E,KAAA,MACA2E,QAAA,MAyCAtE,EAAA6E,YAAAN,EAvCA,CACA5E,KAAA,iBACA2E,QAAA,4EC3BA,IAAIQ,EAAyBC,EAAQ,IAErC/E,EAAQgF,YAAa,EACrBhF,EAAQiF,aAAU,EAElB,IA8FIC,EA9FAC,EAAkBL,EAAuBC,EAAQ,KAEjDK,EAA0BN,EAAuBC,EAAQ,MAEzDM,EAAiCP,EAAuBC,EAAQ,MAEhEO,EAAYR,EAAuBC,EAAQ,MAE3CQ,EAAST,EAAuBC,EAAQ,IAExCS,EAAaV,EAAuBC,EAAQ,KAe5CU,EAAe,SAAsB3L,GACvC,IAAI4L,GAAiB,EAAIJ,EAAUL,SAAS,GAAInL,GAC5C6L,EAAcD,EAAeC,YAC7B3D,EAAQ0D,EAAe1D,MACvB4D,EAAWF,EAAeE,SA0B9B,OAxBID,IACFD,EAAeG,MAAQF,SAChBD,EAAeC,aAGpB3D,IACF0D,EAAeI,MAAQ9D,SAChB0D,EAAe1D,OAGpB4D,IAEFF,EAAeK,QAAU,SAIvBL,EAAeI,QACjBJ,EAAeI,MAAQE,EAAa,GAAGC,OAAOP,EAAeI,SAG3DJ,EAAeG,QACjBH,EAAeG,MAAQG,EAAa,GAAGC,OAAOP,EAAeG,SAGxDH,GAULQ,EAAiB,SAAwBjN,GAC3C,IAAI6M,EAAQ7M,EAAK6M,MACbD,EAAQ5M,EAAK4M,MAEjB,OADWC,GAASA,EAAM,IAAMD,GAASA,EAAM,IACnC3M,KAKViN,EAAazN,OAAO0N,OAAO,IAE3BC,EAAe,SAAsBvM,GACvC,IAAI4L,EAAiBD,EAAa3L,GAE9BZ,EAAMgN,EAAeR,GACzB,OAAOS,EAAWjN,KAAQ,GAWxBoN,EAAuD,oBAArBC,kBAAoC,YAAaA,iBAAiBvI,UACpGwI,EAA8B,oBAAXlK,OACnBmK,EAAeD,GAAalK,OAAOoK,qBAEnCC,EAAY,IAAIC,QAwBpB,SAASC,EAAqBC,GAC5B,OAAOA,EAAc7L,IAAI,SAAU2H,GACjC,IAAI1J,EAAM0J,EAAM1J,IACZ6I,EAASa,EAAMb,OACfgF,EAAanE,EAAMmE,WACnBC,EAAQpE,EAAMoE,MACdhF,EAAQY,EAAMZ,MAClB,OAAOuD,EAAON,QAAQzD,cAAc+D,EAAON,QAAQgC,SAAU,CAC3DvH,IAAKxG,GACJ6N,GAAcxB,EAAON,QAAQzD,cAAc,SAAU,CACtD0F,KAAM,aACNF,MAAOA,EACPjF,OAAQgF,EACR/E,MAAOA,IACLuD,EAAON,QAAQzD,cAAc,SAAU,CACzCwF,MAAOA,EACPjF,OAAQA,EACRC,MAAOA,OAOb,SAASgE,EAAac,GACpB,IAAIK,EAAY,GACZC,EAAU,GASd,OARAN,EAAcO,QAAQ,SAAUC,GAC9B,OAAQA,EAAQN,MAAQG,EAAYC,GAASG,KAAKD,KAO7CH,EAAUlB,OAAOmB,GAG1B,SAASI,EAAyBV,GAChC,OAAOA,EAAc7L,IAAI,SAAUwM,GACjC,IAAIvO,EAAMuO,EAAMvO,IACZ8N,EAAQS,EAAMT,MACdrN,EAAY8N,EAAM9N,UACtB,OAAO4L,EAAON,QAAQzD,cAAc,SAAU,CAC5C9B,IAAKxG,EACL8N,MAAOA,EACPjF,OAAQpI,MAKd,SAAS+N,EAAsBZ,GAC7B,OAAOA,EAAc7L,IAAI,SAAU0M,GACjC,IAAIzO,EAAMyO,EAAMzO,IACZ8N,EAAQW,EAAMX,MACdY,EAASD,EAAMC,OACnB,OAAOrC,EAAON,QAAQzD,cAAc,SAAU,CAC5C9B,IAAKxG,EACL8N,MAAOA,EACPjF,OAAQ6F,MAKd,SAASC,EAAuBC,EAAOC,GACrC,IAAIhG,EAAS+F,EAAM/F,OACfgF,EAAae,EAAMf,WACnBC,EAAQc,EAAMd,MACdhF,EAAQ8F,EAAM9F,MAKlB,MAAO,YAFQ+F,EAAS,qBAAuB,KAD/Bf,EAAQ,UAAaA,EAAQ,KAAQ,IAGV,YAJjCe,EAAShB,EAAahF,GAI+B,MAD/CC,EAAQ,UAAaA,EAAQ,KAAQ,IAC8B,KASrF,IAAIgG,EAAwB,SAA+BC,EAAInG,GAC7D,IAAIoG,QAxGc,IAAPhD,GAAwC,oBAAX5I,QAA0BA,OAAOoK,uBACvExB,EAAK,IAAI5I,OAAOoK,qBAAqB,SAAUyB,GAC7CA,EAAQd,QAAQ,SAAUe,GACxB,GAAIzB,EAAUzJ,IAAIkL,EAAMvP,QAAS,CAC/B,IAAIiJ,EAAK6E,EAAU0B,IAAID,EAAMvP,SAEzBuP,EAAME,gBAAkBF,EAAMG,kBAAoB,KACpDrD,EAAGsD,UAAUJ,EAAMvP,QACnB8N,EAAU8B,OAAOL,EAAMvP,QACvBiJ,SAIL,CACD4G,WAAY,WAITxD,GA6FP,OALIgD,IACFA,EAASS,QAAQV,GACjBtB,EAAUiC,IAAIX,EAAInG,IAGb,WACLoG,EAASM,UAAUP,GACnBtB,EAAU8B,OAAOR,KAIjBY,EAAc,SAAqB/O,GAGrC,IAAIZ,EAAMY,EAAMZ,IAAM,QAAWY,EAAMZ,IAAM,KAAQ,UAEjD8I,EAAQlI,EAAMkI,MAAQ,UAAalI,EAAMkI,MAAQ,KAAQ,GACzDD,EAASjI,EAAMiI,OAAS,WAAcjI,EAAMiI,OAAS,KAAQ,GAC7D+G,EAAQhP,EAAMgP,MAAQ,UAAahP,EAAMgP,MAAQ,KAAQ,GACzDzP,EAAMS,EAAMT,IAAM,QAAWS,EAAMT,IAAM,KAAQ,UAEjDG,EAAQM,EAAMN,MAAQ,UAAaM,EAAMN,MAAQ,KAAQ,GACzDC,EAASK,EAAML,OAAS,WAAcK,EAAML,OAAS,KAAQ,GAC7DsP,EAAcjP,EAAMiP,YAAc,gBAAmBjP,EAAMiP,YAAc,KAAQ,GACjFhD,EAAUjM,EAAMiM,QAAU,YAAejM,EAAMiM,QAAU,KAAQ,GACjEiD,EAAYlP,EAAMkP,UAAY,cAAiBlP,EAAMkP,UAAY,KAAQ,GAE7E,MAAO,YAD+BlP,EAAMgN,cAlCvB7L,IAAI,SAAUqM,GACjC,OAAQA,EAAQP,WAAac,EAAuBP,GAAS,GAAQ,IAAMO,EAAuBP,KACjG2B,KAAK,IAiCuB,QAAUlD,EAAUvM,EAAQC,EAASuI,EAAQD,EAAS7I,EAAMG,EAAMyP,EAAQC,EAAcC,EAAY,+HAMjIE,EAAc,SAAqBC,GACrC,IAAIjQ,EAAMiQ,EAAMjQ,IACZ4N,EAAgBqC,EAAMrC,cACtBsC,EAAkBD,EAAMC,gBACxBC,EAAcF,EAAME,YAEpBC,EAAY/D,EAAON,QAAQzD,cAAc+H,GAAK,EAAIjE,EAAUL,SAAS,CACvE/L,IAAKA,GACJmQ,IAEH,OAAOvC,EAAcvI,OAAS,EAAIgH,EAAON,QAAQzD,cAAc,UAAW,KAAM4H,EAAgBtC,GAAgBwC,GAAaA,GAG3HC,EAAMhE,EAAON,QAAQuE,WAAW,SAAU1P,EAAO4C,GACnD,IAAIsF,EAAQlI,EAAMkI,MACdD,EAASjI,EAAMiI,OACf7I,EAAMY,EAAMZ,IACZkB,EAAQN,EAAMM,MACd6H,EAASnI,EAAMmI,OACfwH,EAAU3P,EAAM2P,QAChB1D,EAAUjM,EAAMiM,QAChBiD,EAAYlP,EAAMkP,UAClBU,GAAa,EAAIrE,EAA+BJ,SAASnL,EAAO,CAAC,QAAS,SAAU,MAAO,QAAS,SAAU,UAAW,UAAW,cACxI,OAAOyL,EAAON,QAAQzD,cAAc,OAAO,EAAI8D,EAAUL,SAAS,CAChEjD,MAAOA,EACPD,OAAQA,EACR7I,IAAKA,GACJwQ,EAAY,CACbzH,OAAQA,EACRwH,QAASA,EACT/M,IAAKA,EACLqJ,QAASA,EACTiD,UAAWA,EACX5O,OAAO,EAAIkL,EAAUL,SAAS,CAC5B3E,SAAU,WACVM,IAAK,EACLG,KAAM,EACNvH,MAAO,OACPC,OAAQ,OACRkQ,UAAW,QACXC,eAAgB,UACfxP,QAIPmP,EAAIM,UAAY,CACdzP,MAAOoL,EAAWP,QAAQ6E,OAC1BL,QAASjE,EAAWP,QAAQ8E,KAC5B9H,OAAQuD,EAAWP,QAAQ8E,MAG7B,IAAI/Q,EAEJ,SAAUgR,GAGR,SAAShR,EAAMc,GACb,IAAImQ,GAEJA,EAAQD,EAAiBvK,KAAKF,KAAMzF,IAAUyF,MAGxC2K,WAAa1D,GAAaH,EAAavM,GAC7CmQ,EAAME,cAAgBrQ,EAAM8L,WAAa9L,EAAMsQ,QAC/CH,EAAMI,cAAgB/D,GAA4BG,IAAiB3M,EAAM8L,WAAaqE,EAAMC,WAC5F,IAAII,EAAYxQ,EAAM8L,UAAYY,IAAcF,IAA6B2D,EAAMI,cAUnF,OATAJ,EAAMM,MAAQ,CACZD,UAAWA,EACXE,WAAW,EACXC,WAAW,EACXL,QAASH,EAAMC,YAAcpQ,EAAMsQ,QAErCH,EAAMS,SAAWnF,EAAON,QAAQ0F,YAChCV,EAAMW,kBAAoBX,EAAMW,kBAAkBC,MAAK,EAAIzF,EAAwBH,UAAS,EAAIG,EAAwBH,SAASgF,KACjIA,EAAMa,UAAYb,EAAMa,UAAUD,MAAK,EAAIzF,EAAwBH,UAAS,EAAIG,EAAwBH,SAASgF,KAC1GA,GArBT,EAAI9E,EAAgBF,SAASjM,EAAOgR,GAwBpC,IAAIe,EAAS/R,EAAMgF,UAkPnB,OAhPA+M,EAAOC,kBAAoB,WAOzB,GANIzL,KAAKgL,MAAMD,WAA+C,mBAA3B/K,KAAKzF,MAAMmR,aAC5C1L,KAAKzF,MAAMmR,YAAY,CACrBC,UAAW7E,EAAa9G,KAAKzF,SAI7ByF,KAAKzF,MAAM8L,SAAU,CACvB,IAAI1K,EAAMqE,KAAKmL,SAASvO,QAEpBjB,GAAOA,EAAIiQ,UACb5L,KAAKqL,sBAKXG,EAAOK,qBAAuB,WACxB7L,KAAK8L,kBACP9L,KAAK8L,oBAKTN,EAAOD,UAAY,SAAmBpO,GACpC,IAAI4O,EAAS/L,KAETA,KAAK8K,cAAgB3N,IACvB6C,KAAK8L,iBAAmBrD,EAAsBtL,EAAK,WACjD,IAAI6O,EAAelF,EAAaiF,EAAOxR,OAElCwR,EAAOf,MAAMD,WAAiD,mBAA7BgB,EAAOxR,MAAMmR,aACjDK,EAAOxR,MAAMmR,YAAY,CACvBC,UAAWK,IAQfD,EAAOE,SAAS,CACdlB,WAAW,GACV,WACD,OAAOgB,EAAOE,SAAS,CACrBhB,UAAWe,EAGXd,YAAaa,EAAOZ,SAASvO,QAAQsP,mBAO/CV,EAAOH,kBAAoB,WAhSD,IAA+B9Q,EACrD4L,EAEAxM,EAHqDY,EAiSjCyF,KAAKzF,MAhSzB4L,EAAiBD,EAAa3L,GAE9BZ,EAAMgN,EAAeR,GACzBS,EAAWjN,IAAO,EA8RhBqG,KAAKiM,SAAS,CACZhB,WAAW,IAGTjL,KAAKzF,MAAMmI,QACb1C,KAAKzF,MAAMmI,UAIf8I,EAAOW,OAAS,WACd,IAAIC,EAAgBlG,EAAalG,KAAKzF,OAClCgP,EAAQ6C,EAAc7C,MACtBzP,EAAMsS,EAActS,IACpBc,EAAYwR,EAAcxR,UAC1ByR,EAAsBD,EAAcvR,MACpCA,OAAgC,IAAxBwR,EAAiC,GAAKA,EAC9CC,EAAwBF,EAAcG,SACtCA,OAAqC,IAA1BD,EAAmC,GAAKA,EACnDE,EAAwBJ,EAAcK,iBACtCA,OAA6C,IAA1BD,EAAmC,GAAKA,EAC3DE,EAAuBN,EAAcM,qBACrCnG,EAAQ6F,EAAc7F,MACtBD,EAAQ8F,EAAc9F,MACtB3E,EAAkByK,EAAczK,gBAChCgL,EAAiBP,EAAcO,eAC/BC,EAAMR,EAAcQ,IACpBC,EAAWT,EAAcS,SACzBrG,EAAU4F,EAAc5F,QACxBiD,EAAY2C,EAAc3C,UAE1BqD,GAAqC,IAAtB9M,KAAKgL,MAAMH,QAAoB7K,KAAKgL,MAAMC,UACzD8B,GAAqC,IAAtB/M,KAAKgL,MAAMH,SAAoB7K,KAAKgL,MAAME,UACzD8B,GAAa,EAAIjH,EAAUL,SAAS,CACtC9D,QAASkL,EAAe,EAAI,EAC5B9L,WAAY+L,EAAe,WAAaJ,EAAiB,KAAO,QAC/DJ,GACCU,EAAqC,kBAApBtL,EAAgC,YAAcA,EAC/DuL,EAAiB,CACnBC,gBAAiBR,EAAiB,MAEhCS,GAAwB,EAAIrH,EAAUL,SAAS,CACjD9D,QAAS5B,KAAKgL,MAAMC,UAAY,EAAI,GACnC8B,GAAgBG,EAAgBX,EAAUE,GACzCY,EAAwB,CAC1B9D,MAAOA,EACPzP,IAAMkG,KAAKgL,MAAMD,UAAkB,GAANjR,EAC7Be,MAAOuS,EACPxS,UAAW8R,GAGb,GAAInG,EAAO,CACT,IAAIgB,EAAgBhB,EAChB7L,EAAQ6M,EAAc,GAC1B,OAAOvB,EAAON,QAAQzD,cAAc2K,EAAK,CACvChS,WAAYA,GAAwB,IAAM,wBAC1CC,OAAO,EAAIkL,EAAUL,SAAS,CAC5B3E,SAAU,WACVuM,SAAU,UACTzS,GACHsC,IAAK6C,KAAKuL,UACVpL,IAAK,SAAWoN,KAAKC,UAAU9S,EAAM8H,SACpCwD,EAAON,QAAQzD,cAAc2K,EAAK,CACnC/R,MAAO,CACLZ,MAAO,OACPwT,cAAe,IAAM/S,EAAMgT,YAAc,OAEzCT,GAAWjH,EAAON,QAAQzD,cAAc2K,EAAK,CAC/CrD,MAAOA,EACP1O,OAAO,EAAIkL,EAAUL,SAAS,CAC5B/D,gBAAiBsL,EACjBlM,SAAU,WACVM,IAAK,EACLE,OAAQ,EACRK,QAAU5B,KAAKgL,MAAMC,UAAgB,EAAJ,EACjC3J,MAAO,EACPE,KAAM,GACLuL,GAAgBG,KACjBxS,EAAM2N,QAAUrC,EAAON,QAAQzD,cAAc0H,EAAa,CAC5DhQ,IAAKe,EAAM2N,OACXyB,YAAauD,EACb9F,cAAeA,EACfsC,gBAAiB1B,IACfzN,EAAMN,WAAa4L,EAAON,QAAQzD,cAAc0H,EAAa,CAC/DhQ,IAAKe,EAAMN,UACX0P,YAAauD,EACb9F,cAAeA,EACfsC,gBAAiB5B,IACfjI,KAAKgL,MAAMD,WAAa/E,EAAON,QAAQzD,cAAc,UAAW,KAAMqF,EAAqBC,GAAgBvB,EAAON,QAAQzD,cAAc+H,EAAK,CAC/IlQ,IAAKA,EACLyP,MAAOA,EACP9G,MAAO/H,EAAM+H,MACb9I,IAAKe,EAAMf,IACX6P,YAAaxJ,KAAKzF,MAAMiP,YACxBhH,OAAQ9H,EAAM8H,OACd3H,MAAOmS,EACP7P,IAAK6C,KAAKmL,SACVzI,OAAQ1C,KAAKqL,kBACbnB,QAASlK,KAAKzF,MAAM2P,QACpB2C,SAAUA,EACVrG,QAASA,EACTiD,UAAWA,KACRzJ,KAAK4K,aAAe5E,EAAON,QAAQzD,cAAc,WAAY,CAChE0L,wBAAyB,CACvBC,OAAQtE,GAAY,EAAIvD,EAAUL,SAAS,CACzC5L,IAAKA,EACLyP,MAAOA,EACP/C,QAASA,GACR9L,EAAO,CACR6M,cAAeA,SAMvB,GAAIjB,EAAO,CACT,IAAIuH,EAAiBvH,EACjBwH,EAASD,EAAe,GACxBE,GAAW,EAAIhI,EAAUL,SAAS,CACpC3E,SAAU,WACVuM,SAAU,SACVxS,QAAS,eACTb,MAAO6T,EAAO7T,MACdC,OAAQ4T,EAAO5T,QACdW,GAMH,MAJsB,YAAlBA,EAAMC,gBACDiT,EAASjT,QAGXkL,EAAON,QAAQzD,cAAc2K,EAAK,CACvChS,WAAYA,GAAwB,IAAM,wBAC1CC,MAAOkT,EACP5Q,IAAK6C,KAAKuL,UACVpL,IAAK,SAAWoN,KAAKC,UAAUM,EAAOtL,SACrCyK,GAAWjH,EAAON,QAAQzD,cAAc2K,EAAK,CAC9CrD,MAAOA,EACP1O,OAAO,EAAIkL,EAAUL,SAAS,CAC5B/D,gBAAiBsL,EACjBhT,MAAO6T,EAAO7T,MACd2H,QAAU5B,KAAKgL,MAAMC,UAAgB,EAAJ,EACjC/Q,OAAQ4T,EAAO5T,QACd6S,GAAgBG,KACjBY,EAAOzF,QAAUrC,EAAON,QAAQzD,cAAc0H,EAAa,CAC7DhQ,IAAKmU,EAAOzF,OACZyB,YAAauD,EACb9F,cAAesG,EACfhE,gBAAiB1B,IACf2F,EAAO1T,WAAa4L,EAAON,QAAQzD,cAAc0H,EAAa,CAChEhQ,IAAKmU,EAAO1T,UACZ0P,YAAauD,EACb9F,cAAesG,EACfhE,gBAAiB5B,IACfjI,KAAKgL,MAAMD,WAAa/E,EAAON,QAAQzD,cAAc,UAAW,KAAMqF,EAAqBuG,GAAiB7H,EAAON,QAAQzD,cAAc+H,EAAK,CAChJlQ,IAAKA,EACLyP,MAAOA,EACPtP,MAAO6T,EAAO7T,MACdC,OAAQ4T,EAAO5T,OACfuI,MAAOqL,EAAOrL,MACd9I,IAAKmU,EAAOnU,IACZ6P,YAAaxJ,KAAKzF,MAAMiP,YACxBhH,OAAQsL,EAAOtL,OACf3H,MAAOmS,EACP7P,IAAK6C,KAAKmL,SACVzI,OAAQ1C,KAAKqL,kBACbnB,QAASlK,KAAKzF,MAAM2P,QACpB2C,SAAUA,EACVrG,QAASA,EACTiD,UAAWA,KACRzJ,KAAK4K,aAAe5E,EAAON,QAAQzD,cAAc,WAAY,CAChE0L,wBAAyB,CACvBC,OAAQtE,GAAY,EAAIvD,EAAUL,SAAS,CACzC5L,IAAKA,EACLyP,MAAOA,EACP/C,QAASA,GACRsH,EAAQ,CACTvG,cAAesG,SAMvB,OAAO,MAGFpU,EA3QT,CA4QEuM,EAAON,QAAQsI,WAEjBvU,EAAMwU,aAAe,CACnBpD,QAAQ,EACR8B,eAAgB,IAChB7S,IAAK,GACL8S,IAAK,MAGLpG,QAAS,QAGX,IAAI0H,EAAcjI,EAAWP,QAAQyI,MAAM,CACzClU,MAAOgM,EAAWP,QAAQ0I,OAAOC,WACjCnU,OAAQ+L,EAAWP,QAAQ0I,OAAOC,WAClC1U,IAAKsM,EAAWP,QAAQzB,OAAOoK,WAC/B7L,OAAQyD,EAAWP,QAAQzB,OAAOoK,WAClChG,OAAQpC,EAAWP,QAAQzB,OAC3B7J,UAAW6L,EAAWP,QAAQzB,OAC9BqK,QAASrI,EAAWP,QAAQzB,OAC5BuD,WAAYvB,EAAWP,QAAQzB,OAC/BwD,MAAOxB,EAAWP,QAAQzB,SAGxBsK,EAActI,EAAWP,QAAQyI,MAAM,CACzCT,YAAazH,EAAWP,QAAQ0I,OAAOC,WACvC1U,IAAKsM,EAAWP,QAAQzB,OAAOoK,WAC/B7L,OAAQyD,EAAWP,QAAQzB,OAAOoK,WAClC5L,MAAOwD,EAAWP,QAAQzB,OAAOoK,WACjChG,OAAQpC,EAAWP,QAAQzB,OAC3B7J,UAAW6L,EAAWP,QAAQzB,OAC9BqK,QAASrI,EAAWP,QAAQzB,OAC5BuD,WAAYvB,EAAWP,QAAQzB,OAC/BwD,MAAOxB,EAAWP,QAAQzB,SAG5BxK,EAAM6Q,UAAY,CAChBlE,YAAa8H,EACbzL,MAAO8L,EACPjI,MAAOL,EAAWP,QAAQ8I,UAAU,CAACN,EAAajI,EAAWP,QAAQ+I,QAAQP,KAC7E3H,MAAON,EAAWP,QAAQ8I,UAAU,CAACD,EAAatI,EAAWP,QAAQ+I,QAAQF,KAC7E1D,OAAQ5E,EAAWP,QAAQgJ,KAC3B/B,eAAgB1G,EAAWP,QAAQ0I,OACnC7E,MAAOtD,EAAWP,QAAQzB,OAC1BnK,IAAKmM,EAAWP,QAAQzB,OACxBrJ,UAAWqL,EAAWP,QAAQ8I,UAAU,CAACvI,EAAWP,QAAQzB,OAAQgC,EAAWP,QAAQ6E,SAEvFlE,SAAUJ,EAAWP,QAAQgJ,KAC7BlF,YAAavD,EAAWP,QAAQ8I,UAAU,CAACvI,EAAWP,QAAQzB,OAAQgC,EAAWP,QAAQgJ,OACzF7T,MAAOoL,EAAWP,QAAQ6E,OAC1BgC,SAAUtG,EAAWP,QAAQ6E,OAC7BkC,iBAAkBxG,EAAWP,QAAQ6E,OACrCmC,qBAAsBzG,EAAWP,QAAQzB,OACzCtC,gBAAiBsE,EAAWP,QAAQ8I,UAAU,CAACvI,EAAWP,QAAQzB,OAAQgC,EAAWP,QAAQgJ,OAC7FhM,OAAQuD,EAAWP,QAAQ8E,KAC3BN,QAASjE,EAAWP,QAAQ8E,KAC5BkB,YAAazF,EAAWP,QAAQ8E,KAChCoC,IAAK3G,EAAWP,QAAQzB,OACxB4I,SAAU5G,EAAWP,QAAQzB,OAC7BuC,QAASP,EAAWP,QAAQiJ,MAAM,CAAC,OAAQ,OAAQ,UACnDlF,UAAWxD,EAAWP,QAAQgJ,MAEhC,IAAIE,EAAWnV,EACfgH,EAAQiF,QAAUkJ,oCClnBlBxR,EAAQ,IAARA,CAAwB,iBAAA4G,GACxB,kBACA,OAAAA,EAAAhE,KAAA,iDCFA5C,EAAQ,IAERjE,OAAAqH,eAAAC,EAAA,cACAZ,OAAA,IAGA,IAIAgP,EAJAC,EAAiB1R,EAAQ,KAEzB2R,GAEAF,EAFAC,IAGAD,EAAApJ,WAAAoJ,EAAA,CACAnJ,QAAAmJ,GAIApO,EAAA,QAAAsO,EAAA,0CChBA3R,EAAQ,KAERA,EAAQ,IAERA,EAAQ,KAERA,EAAQ,IAERA,EAAQ,IAERA,EAAQ,IAERjE,OAAAqH,eAAAC,EAAA,cACAZ,OAAA,IAGA,IAAA3C,EAAA/D,OAAA6V,QAAA,SAAA1V,GACA,QAAAoG,EAAA,EAAiBA,EAAAI,UAAAd,OAAsBU,IAAA,CACvC,IAAAuP,EAAAnP,UAAAJ,GAEA,QAAAS,KAAA8O,EACA9V,OAAAsF,UAAAyQ,eAAAhP,KAAA+O,EAAA9O,KACA7G,EAAA6G,GAAA8O,EAAA9O,IAKA,OAAA7G,GAGA6V,EAAA,WACA,SAAAC,EAAA9V,EAAAiB,GACA,QAAAmF,EAAA,EAAmBA,EAAAnF,EAAAyE,OAAkBU,IAAA,CACrC,IAAA2P,EAAA9U,EAAAmF,GACA2P,EAAAC,WAAAD,EAAAC,aAAA,EACAD,EAAAE,cAAA,EACA,UAAAF,MAAAG,UAAA,GACArW,OAAAqH,eAAAlH,EAAA+V,EAAAlP,IAAAkP,IAIA,gBAAAI,EAAAC,EAAAC,GAGA,OAFAD,GAAAN,EAAAK,EAAAhR,UAAAiR,GACAC,GAAAP,EAAAK,EAAAE,GACAF,GAdA,GAkBAzJ,EAAa5I,EAAQ,GAErBwS,EAAArK,EAAAS,GAEAC,EAAiB7I,EAAQ,IAIzByS,EAAAtK,EAFgBnI,EAAQ,MAIxB0S,EAAe1S,EAAQ,KAEvB2S,EAAsB3S,EAAQ,KAI9B4S,EAAAzK,EAFqBnI,EAAQ,MAM7B6S,EAAA1K,EAFYnI,EAAQ,MAIpB,SAAAmI,EAAAsJ,GACA,OAAAA,KAAApJ,WAAAoJ,EAAA,CACAnJ,QAAAmJ,GAkCA,IAAAqB,EAAA,SAAAC,GACA,OAAAA,SAMA7V,EAAA,SAAA8V,GAGA,SAAA9V,EAAAC,IAxCA,SAAA8V,EAAAZ,GACA,KAAAY,aAAAZ,GACA,UAAAa,UAAA,qCAuCAC,CAAAvQ,KAAA1F,GAEA,IAAAoQ,EArCA,SAAA8F,EAAAtQ,GACA,IAAAsQ,EACA,UAAAC,eAAA,6DAGA,OAAAvQ,GAAA,iBAAAA,GAAA,mBAAAA,EAAAsQ,EAAAtQ,EAgCAwQ,CAAA1Q,MAAA1F,EAAAqW,WAAAxX,OAAAyX,eAAAtW,IAAA4F,KAAAF,KAAAzF,IAeA,OAbAmQ,EAAAM,MAAA,CACA6F,YAAA,EACAV,UAAA,EACAW,WAAA,EACAnX,IAAAY,EAAAG,MAAAf,IACAoX,QAAAxW,EAAAG,MAAAf,IACAqX,WAAA,GAEAtG,EAAAuG,eAAAvG,EAAAuG,eAAA3F,KAAAZ,GACAA,EAAAwG,YAAAxG,EAAAwG,YAAA5F,KAAAZ,GACAA,EAAAyG,iBAAAzG,EAAAyG,iBAAA7F,KAAAZ,GACAA,EAAA0G,cAAA1G,EAAA0G,cAAA9F,KAAAZ,GACAA,EAAA2G,YAAA3G,EAAA2G,YAAA/F,KAAAZ,GACAA,EAiQA,OA7SA,SAAA4G,EAAAC,GACA,sBAAAA,GAAA,OAAAA,EACA,UAAAjB,UAAA,kEAAAiB,GAGAD,EAAA7S,UAAAtF,OAAA0N,OAAA0K,KAAA9S,UAAA,CACA8B,YAAA,CACAV,MAAAyR,EACAhC,YAAA,EACAE,UAAA,EACAD,cAAA,KAGAgC,IAAApY,OAAAqY,eAAArY,OAAAqY,eAAAF,EAAAC,GAAAD,EAAAX,UAAAY,GAWAE,CAAAnX,EAsRC0L,EAAAgI,WA/PDmB,EAAA7U,EAAA,EACA6F,IAAA,qBASAN,MAAA,SAAA6R,EAAAC,GACA,IAAAzB,EAAAwB,EAAAvB,WAAAD,EAAAlQ,KAAAzF,MAAA4V,UACA,UAAAyB,MAAA/B,EAAA,QAAAlP,OAAAE,cACO,GAAAqP,EAAAwB,EAAAvB,YAAAD,EAAAlQ,KAAAzF,MAAA4V,UACP,UAAAyB,MAAA/B,EAAA,QAAAlP,OAAAC,YAGA,IAAAiR,EAAA3B,EAAAwB,EAAAvB,UAAAuB,EAAAvB,SAAAwB,EAAAxB,SACAA,EAAAD,EAAAlQ,KAAAzF,MAAA4V,UAAAnQ,KAAAzF,MAAA4V,SAAAnQ,KAAAgL,MAAAmF,SAEA0B,IAAA1B,OAAAnQ,KAAA8R,gBACA9R,KAAA8R,eAAAC,OAAA,CACAC,OAAA,MAIG,CACH7R,IAAA,SACAN,MAAA,WACA,IAAAkM,EAAA/L,KAEAiS,EAAAjS,KAAAzF,MACAuB,EAAAmW,EAAAnW,cACApB,EAAAuX,EAAAvX,MACAwX,EAAAD,EAAA9B,SACAgC,EAAAF,EAAAE,0BACAjX,EAAA+W,EAAA/W,UACA2H,EAAAoP,EAAApP,WACAuP,EAAApS,KAAAgL,MACA6F,EAAAuB,EAAAvB,WACAwB,EAAAD,EAAAjC,SACAxW,EAAAyY,EAAAzY,IACAqX,EAAAoB,EAAApB,UAUAsB,EAAApV,EAAA,IAA6B2T,GAAA,CAC7B0B,SAhFA,GAiFO7X,EAAA,CACPf,MACAkB,MAAAmF,KAAAwS,mBACO3B,GAAA,CACP4B,YAAAzS,KAAA0S,cACAC,QAAA3S,KAAAqR,YACAuB,UAAA5S,KAAAiR,iBAGAd,EAAAD,EAAAgC,KAAAG,EACA,OAAAzC,EAAA,QAAA3N,cAAA+D,EAAA0B,SAAA,KAAAkI,EAAA,QAAA3N,cAAA,MAAA/E,EAAA,GAAwHoV,EAAA,CACxHnS,IAAA,QACAhD,IAAA,SAAA0V,GACA9G,EAAArR,MAAAmY,GAEAnQ,OAAA1C,KAAAkR,YACAhH,QAAAlK,KAAAmR,oBACOnR,KAAAtF,QAAAyV,GAAAa,GAAApB,EAAA,QAAA3N,cAAA+N,EAAA,SACP7P,IAAA,SACAhD,IAAA,SAAA2V,GACA/G,EAAA+F,eAAAgB,GAEAC,kBAAA/S,KAAAgT,wBACAC,wBAAAjT,KAAAkT,uBACOtD,EAAA,QAAA3N,cAAAgO,EAAA,SACPnU,gBACApB,MAAAsF,KAAAtF,MACAyX,4BACAjX,YACA2H,WAAAsQ,OAAAtQ,GACAuQ,SAAApT,KAAAoR,iBACO,QAWJ,CACHjR,IAAA,+BACAN,MAAA,WACA,IAAAwT,EAAArT,KAAAzF,MACA4X,EAAAkB,EAAAlB,0BACAjX,EAAAmY,EAAAnY,UACA2V,EAAAsB,IAAAjX,IAAA,EAAA4U,EAAApM,gBAAA1D,KAAAtF,OACAsF,KAAAiM,SAAA,CACA4E,iBAGG,CACH1Q,IAAA,iBACAN,MAAA,WACA,IAAAyT,EAAAtT,KAAAzF,MACAuB,EAAAwX,EAAAxX,cACApB,EAAA4Y,EAAA5Y,MACA6Y,EAAAD,EAAAnD,SACAqD,EAAAxT,KAAAgL,MACA6F,EAAA2C,EAAA3C,WACA4C,EAAAD,EAAArD,SACAa,EAAAwC,EAAAxC,UACA0C,EAAAD,GAAAF,GAAAvC,EACA,OAAA9T,EAAA,GAAwB2S,EAAA,QAAArW,OAAAkB,MAAAgZ,GAAA,CACxBC,WAAA,UACO7X,EAAApB,QAAAG,MAAAgW,GAAA,CACP/P,OAAA,cASG,CACHX,IAAA,cACAN,MAAA,SAAAoF,GACAjF,KAAA4T,gCAEA5T,KAAAzF,MAAAG,MAAAgI,QAAAmR,SAAApV,WACAwG,KAEG,CACH9E,IAAA,mBACAN,MAAA,SAAAoF,GACAjF,KAAAiM,SAAA,CACA4E,YAAA,KAEA7Q,KAAAzF,MAAAG,MAAAwP,SAAA2J,SAAApV,WACAwG,KAEG,CACH9E,IAAA,iBACAN,MAAA,SAAAoF,IACA,EAAA8K,EAAA3K,sBAAAH,KACAA,EAAA6O,iBAEA9T,KAAAqR,YAAApM,MAGG,CACH9E,IAAA,gBACAN,MAAA,SAAAoF,GACAA,EAAA6O,mBAEG,CACH3T,IAAA,cACAN,MAAA,SAAAoF,IACAiL,EAAAlQ,KAAAzF,MAAA4V,WAAAnQ,KAAAzF,MAAAwZ,iBAAA9O,GACAjF,KAAAiM,SAAA,CACAkE,UAAA,GACSnQ,KAAAzF,MAAAY,QAET6E,KAAAzF,MAAAY,WAYG,CACHgF,IAAA,gBACAN,MAAA,SAAAlG,EAAAqa,GACA,IAAAC,EAAAjU,KAEA,kBACA,IAAAkU,EAAAhX,EAAA,CACAiT,UAAA,EACAa,WAAA,GACSiD,EAAA1Z,MAAA4Z,oBAAA,CACTxa,QAGAsa,EAAAhI,SAAAiI,EAAAD,EAAA1Z,MAAA6Y,UAEAY,GAAAC,EAAAf,uBACAe,EAAAvZ,MAAA0Z,WAIG,CACHjU,IAAA,wBACAN,MAAA,WACA,OAAAqQ,EAAAlQ,KAAAzF,MAAA4V,UAAAnQ,KAAAzF,MAAA6Y,SAAA,OAEG,CACHjT,IAAA,sBACAN,MAAA,WACA,OAAAG,KAAAtF,QA5OA,IA4OAsF,KAAAtF,MAAA6X,YAEG,EACHpS,IAAA,2BACAN,MAAA,SAAAtF,EAAAyQ,GAOA,IAAAgG,EAAAhG,EAAA8F,YAAAvW,EAAA4V,UAAAnF,EAAAgG,UAGA,OACArX,IAFAY,EAAAG,MAAAf,MAAAqR,EAAA+F,QAAAxW,EAAAG,MAAAf,IAAAqR,EAAArR,IAGAqX,YAEAF,UAAAvW,EAAA4V,SACAY,QAAAxW,EAAAG,MAAAf,OAGG,CACHwG,IAAA,eACA2I,IAAA,WACA,OACAqL,oBAAA,EACAhC,2BAAA,EACAtP,WAAA,GACA/G,cAAA,CACAsF,cAAA,GACAM,QAAA,GACAhH,MAAA,GACAQ,UAAA,IAEA6Y,iBAAA,WACA,UAEA5Y,OAAA,aACAiY,SAAA,kBAKA9Y,EAtRA,GAyRAmG,EAAA,QAAAnG,EACAA,EAAAgQ,UAAA,CACA5P,OAAA,EAAAuL,EAAAkI,OAAA,CACAxU,IAAAsM,EAAAhC,OAAAoK,WACAvU,IAAAmM,EAAAhC,OACArJ,UAAAqL,EAAAhC,OACApJ,MAAAoL,EAAAsE,SACG8D,WACHnT,WAAA,EAAA+K,EAAAkI,OAAA,CACAxU,IAAAsM,EAAAhC,OACAnK,IAAAmM,EAAAhC,OACArJ,UAAAqL,EAAAhC,OACApJ,MAAAoL,EAAAsE,SAEAzO,cAAAmK,EAAAsE,OACA4F,SAAAlK,EAAAyI,KACAqF,iBAAA9N,EAAAuE,KACA2J,mBAAAlO,EAAAyI,KACAyD,0BAAAlM,EAAAyI,KACAvT,OAAA8K,EAAAuE,KACA4I,SAAAnN,EAAAuE,wCC9ZApN,EAAQ,IAERA,EAAQ,KAERA,EAAQ,IAERA,EAAQ,IAERjE,OAAAqH,eAAAC,EAAA,cACAZ,OAAA,IAGA,IAAAsP,EAAA,WACA,SAAAC,EAAA9V,EAAAiB,GACA,QAAAmF,EAAA,EAAmBA,EAAAnF,EAAAyE,OAAkBU,IAAA,CACrC,IAAA2P,EAAA9U,EAAAmF,GACA2P,EAAAC,WAAAD,EAAAC,aAAA,EACAD,EAAAE,cAAA,EACA,UAAAF,MAAAG,UAAA,GACArW,OAAAqH,eAAAlH,EAAA+V,EAAAlP,IAAAkP,IAIA,gBAAAI,EAAAC,EAAAC,GAGA,OAFAD,GAAAN,EAAAK,EAAAhR,UAAAiR,GACAC,GAAAP,EAAAK,EAAAE,GACAF,GAdA,GAkBAzJ,EAAa5I,EAAQ,GAErBwS,EAAArK,EAAAS,GAEAqO,EAAgBjX,EAAQ,KAExB6I,EAAiB7I,EAAQ,IAIzByS,EAAAtK,EAFgBnI,EAAQ,MAIxB0S,EAAe1S,EAAQ,KAEvB2S,EAAsB3S,EAAQ,KAE9B,SAAAmI,EAAAsJ,GACA,OAAAA,KAAApJ,WAAAoJ,EAAA,CACAnJ,QAAAmJ,GAkCA,IAAAyF,EAAA,SAAAlE,GAGA,SAAAkE,KAjCA,SAAAjE,EAAAZ,GACA,KAAAY,aAAAZ,GACA,UAAAa,UAAA,qCAgCAC,CAAAvQ,KAAAsU,GAEA,IAAA5J,EA9BA,SAAA8F,EAAAtQ,GACA,IAAAsQ,EACA,UAAAC,eAAA,6DAGA,OAAAvQ,GAAA,iBAAAA,GAAA,mBAAAA,EAAAsQ,EAAAtQ,EAyBAwQ,CAAA1Q,MAAAsU,EAAA3D,WAAAxX,OAAAyX,eAAA0D,IAAApU,KAAAF,OAUA,OARA0K,EAAA1I,QAAA,EAAA8N,EAAAhO,uBAAA,OACA4I,EAAAqH,OAAArH,EAAAqH,OAAAzG,KAAAZ,GACAA,EAAA6J,cAAA7J,EAAA6J,cAAAjJ,KAAAZ,GACAA,EAAAuG,eAAAvG,EAAAuG,eAAA3F,KAAAZ,GACAA,EAAA8J,cAAA9J,EAAA8J,cAAAlJ,KAAAZ,GACAA,EAAA+J,kBAAA/J,EAAA+J,kBAAAnJ,KAAAZ,GACAA,EAAAgK,iBAAAhK,EAAAgK,iBAAApJ,KAAAZ,GACAA,EAAAiK,gBAAAjK,EAAAiK,gBAAArJ,KAAAZ,GACAA,EA2HA,OA3JA,SAAA4G,EAAAC,GACA,sBAAAA,GAAA,OAAAA,EACA,UAAAjB,UAAA,kEAAAiB,GAGAD,EAAA7S,UAAAtF,OAAA0N,OAAA0K,KAAA9S,UAAA,CACA8B,YAAA,CACAV,MAAAyR,EACAhC,YAAA,EACAE,UAAA,EACAD,cAAA,KAGAgC,IAAApY,OAAAqY,eAAArY,OAAAqY,eAAAF,EAAAC,GAAAD,EAAAX,UAAAY,GAIAE,CAAA6C,EA2ICtO,EAAAgI,WAzHDmB,EAAAmF,EAAA,EACAnU,IAAA,oBACAN,MAAA,WACA,IAAAkM,EAAA/L,KAEAA,KAAA4U,YAAA7X,OAAA6X,YACA5U,KAAA6U,YAAAC,WAAA,WACA/X,OAAAC,iBAAA,SAAA+O,EAAAwI,eACAxX,OAAAC,iBAAA,UAAA+O,EAAAkF,gBACAlU,OAAAC,iBAAA,eAAA+O,EAAA0I,mBACA1X,OAAAC,iBAAA,cAAA+O,EAAA2I,kBACA3X,OAAAC,iBAAA,aAAA+O,EAAA4I,iBACA5X,OAAAC,iBAAA,gBAAA+O,EAAA4I,iBACA5X,OAAAC,iBAAA,SAAA+O,EAAAyI,gBACO3E,EAAA,QAAAhO,sBAEJ,CACH1B,IAAA,uBACAN,MAAA,WACAkV,aAAA/U,KAAA6U,aACA9X,OAAAE,oBAAA,SAAA+C,KAAAuU,eACAxX,OAAAE,oBAAA,UAAA+C,KAAAiR,gBACAlU,OAAAE,oBAAA,eAAA+C,KAAAyU,mBACA1X,OAAAE,oBAAA,cAAA+C,KAAA0U,kBACA3X,OAAAE,oBAAA,aAAA+C,KAAA2U,iBACA5X,OAAAE,oBAAA,gBAAA+C,KAAA2U,iBACA5X,OAAAE,oBAAA,SAAA+C,KAAAwU,gBACA,EAAA1E,EAAA1N,uBAAApC,KAAAgC,UAEG,CACH7B,IAAA,SACAN,MAAA,WACA,OAAAG,KAAAgC,QAAA,EAAAqS,EAAAW,cAAApF,EAAA,QAAA3N,cAAA,OACA0Q,QAAA3S,KAAA+R,QACO/R,KAAAiV,eAAAjV,KAAAgC,QAAA,OAEJ,CACH7B,IAAA,SACAN,MAAA,WACA,IAAAnG,EAAAoG,UAAAd,OAAA,QAAAkW,IAAApV,UAAA,GAAAA,UAAA,MACAkS,EAAAtY,EAAAsY,MACAgC,EAAAta,EAAAsa,aAEA,OAAAhU,KAAAzF,MAAAwY,oBAAAf,EACAhS,KAAAzF,MAAAwY,oBAGA/S,KAAAmV,MAAApD,OAAAiC,KAEG,CACH7T,IAAA,cACAN,MAAA,WACA,IAAAoU,EAAAjU,KAEA,OAAA4P,EAAA,QAAAwF,aAAAxF,EAAA,QAAAyF,SAAAC,KAAAtV,KAAAzF,MAAAgb,UAAA,CACApY,IAAA,SAAAgY,GACAlB,EAAAkB,aAIG,CACHhV,IAAA,iBACAN,MAAA,SAAAoF,GACA,MAAA8K,EAAA1K,UAAAJ,GACAA,EAAA6O,qBADA,CAMA,IACA0B,EADAxV,KAAAzF,MAAA0Y,0BACA,EAAAlD,EAAA3K,sBAAAH,GACAwQ,GAAA,EAAA1F,EAAAzK,aAAAL,GAEAuQ,GACAvQ,EAAA6O,kBAGA0B,GAAAC,IACAzV,KAAA+R,OAAA,CACAiC,cAAA,OAIG,CACH7T,IAAA,gBACAN,MAAA,WACAG,KAAA0V,gBAEG,CACHvV,IAAA,gBACAN,MAAA,WACAG,KAAA0V,cACAxS,KAAAyS,IAAA5Y,OAAA6X,YAAA5U,KAAA4U,aAEA,IACA5U,KAAA+R,WAGG,CACH5R,IAAA,oBACAN,MAAA,SAAAoF,GACAjF,KAAA4V,eAAA3Q,EAAA4Q,QAAA,GAAAC,UAEG,CACH3V,IAAA,mBACAN,MAAA,SAAAoF,GACAjF,KAAA0V,cACAxS,KAAAyS,IAAA1Q,EAAA4Q,QAAA,GAAAC,QAAA9V,KAAA4V,gBAEA,IACA5V,KAAA+R,WAGG,CACH5R,IAAA,kBACAN,MAAA,kBACAG,KAAA4V,mBAIAtB,EA3IA,GA8IA7T,EAAA,QAAA6T,EACAA,EAAAhK,UAAA,CACAiL,SAAAtP,EAAA8P,QAAA1H,WACA2H,qBAAA/P,EAAAuE,wCCnOApN,EAAQ,IAERA,EAAQ,KAERA,EAAQ,IAERA,EAAQ,IAERA,EAAQ,IAERA,EAAQ,IAERjE,OAAAqH,eAAAC,EAAA,cACAZ,OAAA,IAGA,IAAA3C,EAAA/D,OAAA6V,QAAA,SAAA1V,GACA,QAAAoG,EAAA,EAAiBA,EAAAI,UAAAd,OAAsBU,IAAA,CACvC,IAAAuP,EAAAnP,UAAAJ,GAEA,QAAAS,KAAA8O,EACA9V,OAAAsF,UAAAyQ,eAAAhP,KAAA+O,EAAA9O,KACA7G,EAAA6G,GAAA8O,EAAA9O,IAKA,OAAA7G,GAGA6V,EAAA,WACA,SAAAC,EAAA9V,EAAAiB,GACA,QAAAmF,EAAA,EAAmBA,EAAAnF,EAAAyE,OAAkBU,IAAA,CACrC,IAAA2P,EAAA9U,EAAAmF,GACA2P,EAAAC,WAAAD,EAAAC,aAAA,EACAD,EAAAE,cAAA,EACA,UAAAF,MAAAG,UAAA,GACArW,OAAAqH,eAAAlH,EAAA+V,EAAAlP,IAAAkP,IAIA,gBAAAI,EAAAC,EAAAC,GAGA,OAFAD,GAAAN,EAAAK,EAAAhR,UAAAiR,GACAC,GAAAP,EAAAK,EAAAE,GACAF,GAdA,GAkBAzJ,EAAa5I,EAAQ,GAErBwS,EAAArK,EAAAS,GAEAC,EAAiB7I,EAAQ,IAIzByS,EAAAtK,EAFgBnI,EAAQ,MAIxB0S,EAAe1S,EAAQ,KAIvB6Y,EAAA1Q,EAFenI,EAAQ,MAIvB,SAAAmI,EAAAsJ,GACA,OAAAA,KAAApJ,WAAAoJ,EAAA,CACAnJ,QAAAmJ,GAwDA,IAAAqH,EAAA,SAAA9F,GAGA,SAAA8F,EAAA3b,IA3CA,SAAA8V,EAAAZ,GACA,KAAAY,aAAAZ,GACA,UAAAa,UAAA,qCA0CAC,CAAAvQ,KAAAkW,GAEA,IAAAxL,EAxCA,SAAA8F,EAAAtQ,GACA,IAAAsQ,EACA,UAAAC,eAAA,6DAGA,OAAAvQ,GAAA,iBAAAA,GAAA,mBAAAA,EAAAsQ,EAAAtQ,EAmCAwQ,CAAA1Q,MAAAkW,EAAAvF,WAAAxX,OAAAyX,eAAAsF,IAAAhW,KAAAF,KAAAzF,IAUA,OARAmQ,EAAAM,MAAA,CACAmL,WAAA,EACAhG,UAAA,EACAxW,IAAAY,EAAAG,MAAAwR,YAAA3R,EAAAG,MAAAf,IACAyc,OAAA,MAEA1L,EAAAqH,OAAArH,EAAAqH,OAAAzG,KAAAZ,GACAA,EAAA2L,iBAAA3L,EAAA2L,iBAAA/K,KAAAZ,GACAA,EAgJA,OA1LA,SAAA4G,EAAAC,GACA,sBAAAA,GAAA,OAAAA,EACA,UAAAjB,UAAA,kEAAAiB,GAGAD,EAAA7S,UAAAtF,OAAA0N,OAAA0K,KAAA9S,UAAA,CACA8B,YAAA,CACAV,MAAAyR,EACAhC,YAAA,EACAE,UAAA,EACAD,cAAA,KAGAgC,IAAApY,OAAAqY,eAAArY,OAAAqY,eAAAF,EAAAC,GAAAD,EAAAX,UAAAY,GAcAE,CAAAyE,EAgKClQ,EAAAgI,WA9IDmB,EAAA+G,EAAA,EACA/V,IAAA,oBACAN,MAAA,WACA,IAAAyW,EAAAtW,KAAAzF,MAAAW,UACAvB,EAAA2c,EAAA3c,IACA6I,EAAA8T,EAAA9T,OACAxC,KAAAiM,SAAA,CACAkK,WAAA,KAGAxc,GAAA6I,KACA,EAAAsN,EAAAxN,YAAAtC,KAAAzF,MAAAW,UAAA8E,KAAAqW,oBAGG,CACHlW,IAAA,qBACAN,MAAA,SAAA6R,EAAAC,GACA,IAAA5F,EAAA/L,MAGA2R,EAAAyE,QAAApW,KAAAgL,MAAAoL,QACAtB,WAAA,WACA/I,EAAAE,SAAA,CACAtS,IAAAoS,EAAAf,MAAAoL,OACAA,OAAA,QAES,OAGN,CACHjW,IAAA,SACAN,MAAA,WACA,IAAAoS,EAAAjS,KAAAzF,MACAuB,EAAAmW,EAAAnW,cACAZ,EAAA+W,EAAA/W,UACAkX,EAAApS,KAAAgL,MACAoL,EAAAhE,EAAAgE,OACAjG,EAAAiC,EAAAjC,SACAxW,EAAAyY,EAAAzY,IAEAkB,EAAAmF,KAAAuW,qBAEA,OAAA3G,EAAA,QAAA3N,cAAA,OACApH,MAAAmF,KAAAwW,0BACO5G,EAAA,QAAA3N,cAAAgU,EAAA,SACPlL,UAAAoF,EACArU,kBACO8T,EAAA,QAAA3N,cAAA,MAAA/E,EAAA,GAAsDhC,EAAA,CAC7DvB,MACAkB,WACO+U,EAAA,QAAA3N,cAAAwU,EAAAvZ,EAAA,GAAwDhC,EAAA,CAC/DvB,IAAAyc,EACAvb,cAGG,CACHsF,IAAA,SACAN,MAAA,SAAAmU,GACA,IAAAZ,EAAApT,KAAAzF,MAAA6Y,SAAApT,KAAAgL,MAAArR,IAAAqa,GACAhU,KAAAiM,SAAA,CACAkE,UAAA,GACO,WACP,OAAA2E,WAAA1B,EAAAvD,EAAA,QAAAhO,wBAGG,CACH1B,IAAA,mBACAN,MAAA,SAAAlE,GAEAqE,KAAAgL,MAAAmF,UACAnQ,KAAAiM,SAAA,CACAmK,OAAAza,EAAAuQ,YAAAvQ,EAAAhC,QAIG,CACHwG,IAAA,yBACAN,MAAA,WACA,OAAA3C,EAAA,GAAwB2S,EAAA,QAAArW,OAAA4H,cAAApB,KAAAzF,MAAAuB,cAAAsF,iBAErB,CACHjB,IAAA,qBACAN,MAAA,WACA,IAAAwT,EAAArT,KAAAzF,MACAG,EAAA2Y,EAAA3Y,MACAyX,EAAAkB,EAAAlB,0BACAxY,EAAA0Z,EAAA1Z,IACAkJ,EAAAwQ,EAAAxQ,WACA6T,EAAAhc,EAAAmC,wBACAwE,EAAAqV,EAAArV,IACAG,EAAAkV,EAAAlV,KACAvH,EAAAS,EAAAT,MACAC,EAAAQ,EAAAR,OACAoJ,EAAA5I,EAAA4I,aACAC,EAAA7I,EAAA6I,cACA1I,EAAA,CACAwG,MACAG,OACAvH,QACAC,UAGA,IAAA8F,KAAAgL,MAAAmL,YAAAnW,KAAAgL,MAAAmF,SACA,OAAAjT,EAAA,GAA0B2S,EAAA,QAAArW,OAAA0B,UAAA8E,KAAAzF,MAAAuB,cAAAZ,UAAA8E,KAAAzF,MAAAM,SAI1B,IAAA8b,EAAAnb,SAAA0G,KAAAyB,YAAA,EACAiT,EAAA7Z,OAAAkG,YAAA,EAmBA4T,EAAA,CACA5V,UAAA,gBAfA0V,GAHAD,EAAAlV,KAAAvH,EAAA,IAkBA,QAdA2c,GAHAF,EAAArV,IAAAnH,EAAA,IAiBA,iBAZAiY,IAAAxY,GAAA,EAAAmW,EAAA1M,sBAAA,CACAnJ,QACAC,SACAoJ,eACAC,gBACAV,gBACO,EAAAiN,EAAAlN,UAAA,CACP3I,QACAC,SACA2I,gBAGA,KAEA,OAAA3F,EAAA,GAAwB2S,EAAA,QAAArW,OAAA0B,UAAA8E,KAAAzF,MAAAuB,cAAAZ,UAAA8E,KAAAzF,MAAAM,QAAAgc,MAErB,EACH1W,IAAA,eACA2I,IAAA,WACA,OACA5N,UAAA,QAKAgb,EAhKA,GAmKAzV,EAAA,QAAAyV,EACAA,EAAA5L,UAAA,CACAxO,cAAAmK,EAAAsE,OAAA8D,WACA3T,MAAAuL,EAAAsE,OAAA8D,WACA8D,0BAAAlM,EAAAyI,KACAxT,WAAA,EAAA+K,EAAAkI,OAAA,CACAxU,IAAAsM,EAAAhC,OACAnK,IAAAmM,EAAAhC,OACArJ,UAAAqL,EAAAhC,OACApJ,MAAAoL,EAAAsE,SACG8D,WACHxL,WAAAoD,EAAAmI,OAAAC,WACA+E,SAAAnN,EAAAuE,KAAA6D,YAGA,IAAAoI,EAAA,SAAA/c,GACA,IAAAC,EAAAD,EAAAC,IACAkB,EAAAnB,EAAAmB,MACAN,EAzOA,SAAAsU,EAAAzO,GACA,IAAA9G,EAAA,GAEA,QAAAoG,KAAAmP,EACAzO,EAAA8E,QAAAxF,IAAA,GACAvG,OAAAsF,UAAAyQ,eAAAhP,KAAA2O,EAAAnP,KACApG,EAAAoG,GAAAmP,EAAAnP,IAGA,OAAApG,EAgOAwd,CAAApd,EAAA,iBAEA,OAAAC,EAAAiW,EAAA,QAAA3N,cAAA,MAAA/E,EAAA,GAAkE3C,EAAA,CAClEZ,MACAkB,MAAAkc,EAAAlc,MACG,MAGHmc,EAAA,CACAjW,SAAA,QACA4S,WAAA,UAGAoD,EAAA,SAAAlc,GACA,OAAAqC,EAAA,GAAoBrC,EAAAmc,sCC7TpB5Z,EAAQ,KAERA,EAAQ,IAERA,EAAQ,IAERA,EAAQ,IAERjE,OAAAqH,eAAAC,EAAA,cACAZ,OAAA,IAGA,IAAA3C,EAAA/D,OAAA6V,QAAA,SAAA1V,GACA,QAAAoG,EAAA,EAAiBA,EAAAI,UAAAd,OAAsBU,IAAA,CACvC,IAAAuP,EAAAnP,UAAAJ,GAEA,QAAAS,KAAA8O,EACA9V,OAAAsF,UAAAyQ,eAAAhP,KAAA+O,EAAA9O,KACA7G,EAAA6G,GAAA8O,EAAA9O,IAKA,OAAA7G,GAGA6V,EAAA,WACA,SAAAC,EAAA9V,EAAAiB,GACA,QAAAmF,EAAA,EAAmBA,EAAAnF,EAAAyE,OAAkBU,IAAA,CACrC,IAAA2P,EAAA9U,EAAAmF,GACA2P,EAAAC,WAAAD,EAAAC,aAAA,EACAD,EAAAE,cAAA,EACA,UAAAF,MAAAG,UAAA,GACArW,OAAAqH,eAAAlH,EAAA+V,EAAAlP,IAAAkP,IAIA,gBAAAI,EAAAC,EAAAC,GAGA,OAFAD,GAAAN,EAAAK,EAAAhR,UAAAiR,GACAC,GAAAP,EAAAK,EAAAE,GACAF,GAdA,GAkBAzJ,EAAa5I,EAAQ,GAErBwS,EAAArK,EAAAS,GAEAC,EAAiB7I,EAAQ,IAIzByS,EAAAtK,EAFgBnI,EAAQ,MAIxB,SAAAmI,EAAAsJ,GACA,OAAAA,KAAApJ,WAAAoJ,EAAA,CACAnJ,QAAAmJ,GAkCA,IAAAoI,EAAA,SAAAC,GAGA,SAAAD,EAAA1c,IAjCA,SAAA8V,EAAAZ,GACA,KAAAY,aAAAZ,GACA,UAAAa,UAAA,qCAgCAC,CAAAvQ,KAAAiX,GAEA,IAAAvM,EA9BA,SAAA8F,EAAAtQ,GACA,IAAAsQ,EACA,UAAAC,eAAA,6DAGA,OAAAvQ,GAAA,iBAAAA,GAAA,mBAAAA,EAAAsQ,EAAAtQ,EAyBAwQ,CAAA1Q,MAAAiX,EAAAtG,WAAAxX,OAAAyX,eAAAqG,IAAA/W,KAAAF,KAAAzF,IAKA,OAHAmQ,EAAAM,MAAA,CACAmM,WAAA,GAEAzM,EA6BA,OAxDA,SAAA4G,EAAAC,GACA,sBAAAA,GAAA,OAAAA,EACA,UAAAjB,UAAA,kEAAAiB,GAGAD,EAAA7S,UAAAtF,OAAA0N,OAAA0K,KAAA9S,UAAA,CACA8B,YAAA,CACAV,MAAAyR,EACAhC,YAAA,EACAE,UAAA,EACAD,cAAA,KAGAgC,IAAApY,OAAAqY,eAAArY,OAAAqY,eAAAF,EAAAC,GAAAD,EAAAX,UAAAY,GAIAE,CAAAwF,EAwCCjR,EAAAoR,eA3BDjI,EAAA8H,EAAA,EACA9W,IAAA,oBACAN,MAAA,WACAG,KAAAiM,SAAA,CACAkL,WAAA,MAGG,CACHhX,IAAA,SACAN,MAAA,WACA,OAAA+P,EAAA,QAAA3N,cAAA,OACApH,MAAAmF,KAAAqX,gBAGG,CACHlX,IAAA,YACAN,MAAA,WACA,IACA+B,EAAA,GADA5B,KAAAgL,MAAAmM,WAAAnX,KAAAzF,MAAAwQ,WAGA,OAAA7N,EAAA,GAAwB2S,EAAA,QAAArW,OAAAkI,QAAA,CACxBE,WACO5B,KAAAzF,MAAAuB,cAAA4F,aAIPuV,EAxCA,GA2CAxW,EAAA,QAAAwW,EACAA,EAAA3M,UAAA,CACAS,UAAA9E,EAAAyI,KAAAL,WACAvS,cAAAmK,EAAAsE,OAAA8D","file":"1-d5c8edd6a3daa646975d.js","sourcesContent":["import React from \"react\";\nimport styled from \"@emotion/styled\";\n\nimport GatsbyImg from \"gatsby-image\";\n\nimport { IImg } from \"@types\";\n\n/**\n * To soften the blur-up we get from the default configuration of gatbsy image\n * we're adding a CSS blur to the image. This makes it smoother!\n */\nconst StyledGatsbyImag = styled(GatsbyImg)`\n  & > img {\n    filter: blur(8px);\n  }\n`;\n\n/**\n * src can be one of 3 formats:\n *    * Gatsby fixed image props\n *    * Gatsby fluid image props\n *    * String\n * The component works out the best element to render. You can tell the difference\n * between fluid and fixed Gatsby imagaes by checking to see if a width and height property exist.\n *\n * @example\n * <Img src={...fixed Gatsby image} />\n * <Img src={...fluid Gatsby image} />\n * <Img src=\"https://...\" />\n *\n * todo : lazyload the default img tag\n */\nconst Image: React.SFC<IImg> = ({ src, alt, ...props }) => {\n  // We're going to build our final component's props dynamically.\n  // So create a nice default set of props that are relevant to Gatsby and non Gatsby images\n  const imgProps = {\n    alt,\n    ...props,\n  };\n\n  // TODO : Find where you have src null returns\n  if (!src) return null;\n\n  // Create a bool to tell us if the src is a string (vanilla img) or object (Gatsby)\n  const isGatsby = typeof src !== \"string\";\n\n  // Now we need to calculate the prop that will set the src of the image.\n  // This will either be src (for strings), fixed or fluid. Defaults to src\n  const keyForSrc =\n    // If src is an object with a width and height then we want fixed={src}\n    (isGatsby && src.width && src.height && \"fixed\") ||\n    // The only other Gatsby option would be fluid\n    (isGatsby && \"fluid\") ||\n    // Otherwise src is a string so set a vanilla src prop\n    \"src\";\n\n  // todo : throw an exception if it is neither src nor fixed nor fluid\n\n  // Now set either src, fixed or fluid to the src prop\n  imgProps[keyForSrc] = src;\n\n  // We don't want to CSS blur tracedSVG images! Only regular blur-ups.\n  const Compontent = src.tracedSVG ? GatsbyImg : StyledGatsbyImag;\n\n  // Retrun either the GatsbyImg component or a regular img tag with the spread props\n  return isGatsby ? <Compontent {...imgProps} /> : <img {...imgProps} />;\n};\n\nexport default Image;\n","import React from \"react\";\nimport ImageWithZoom from \"react-medium-image-zoom\";\nimport { useThemeUI } from \"theme-ui\";\n\nfunction handleImageZoomBackground(background: string) {\n  const images = Array.from(document.getElementsByClassName(\"Image__Zoom\"));\n\n  images.map(img => {\n    if (\n      img.previousElementSibling &&\n      img.previousElementSibling.tagName === \"DIV\"\n    ) {\n      img.previousElementSibling.style.background = background;\n    }\n  });\n}\n\nfunction ImageZoom(props) {\n  const { theme } = useThemeUI();\n\n  const image = {\n    ...props,\n    className: \"Image__Zoom\",\n    style: {\n      display: \"block\",\n      margin: \"0 auto\",\n      width: \"100%\",\n    },\n  };\n\n  return (\n    <ImageWithZoom\n      image={image}\n      zoomImage={image}\n      onZoom={() => handleImageZoomBackground(theme.colors.background)}\n      defaultStyles={{\n        zoomImage: {\n          borderRadius: \"5px\",\n        },\n      }}\n    />\n  );\n}\n\nexport default ImageZoom;\n","import React, { useRef, useEffect, useState } from \"react\";\nimport styled from \"@emotion/styled\";\n\nimport mediaqueries from \"@styles/media\";\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  background: #ccc;\n  color: #898989;\n  font-size: 32px;\n  font-weight: 600;\n\n  ${mediaqueries.phablet`\n    font-size: 28px;\n  `}\n`;\n\nfunction ImagePlaceholder(props) {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [dimensions, setDimensions] = useState({ width: 0, height: 0 });\n\n  useEffect(() => {\n    setDimensions(containerRef.current.getBoundingClientRect());\n\n    const handleResize = () =>\n      setDimensions(containerRef.current.getBoundingClientRect());\n\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  return (\n    <Container ref={containerRef} {...props}>\n      <div>\n        {dimensions.width} x {dimensions.height}\n      </div>\n    </Container>\n  );\n}\n\nexport default ImagePlaceholder;\n","export { default } from \"./Image\";\nexport { default as ImageZoom } from \"./Image.Zoom\";\nexport { default as ImagePlaceholder } from \"./Image.Placeholder\";\n","'use strict';\nvar global = require('./_global');\nvar has = require('./_has');\nvar cof = require('./_cof');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar toPrimitive = require('./_to-primitive');\nvar fails = require('./_fails');\nvar gOPN = require('./_object-gopn').f;\nvar gOPD = require('./_object-gopd').f;\nvar dP = require('./_object-dp').f;\nvar $trim = require('./_string-trim').trim;\nvar NUMBER = 'Number';\nvar $Number = global[NUMBER];\nvar Base = $Number;\nvar proto = $Number.prototype;\n// Opera ~12 has broken Object#toString\nvar BROKEN_COF = cof(require('./_object-create')(proto)) == NUMBER;\nvar TRIM = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  if (typeof it == 'string' && it.length > 2) {\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0);\n    var third, radix, maxCode;\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default: return +it;\n      }\n      for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {\n  $Number = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);\n  };\n  for (var keys = require('./_descriptors') ? gOPN(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(Base, key = keys[j]) && !has($Number, key)) {\n      dP($Number, key, gOPD(Base, key));\n    }\n  }\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  require('./_redefine')(global, NUMBER, $Number);\n}\n","'use strict';\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar transitionDuration = 300;\nvar defaults = {\n  errors: {\n    controlled: 'A component is changing a react-medium-image-zoom component from a controlled component to an uncontrolled one. ImageZoom elements should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled image zoom element for the lifetime of the component.',\n    uncontrolled: 'A component is changing a react-medium-image-zoom component from an uncontrolled component to a controlled one. ImageZoom elements should not switch from uncontrolled to controlled (or vice versa). Decide between using a controlled or uncontrolled image zoom element for the lifetime of the component.'\n  },\n  styles: {\n    image: {\n      cursor: 'zoom-in'\n    },\n    zoomImage: {\n      cursor: 'zoom-out',\n      position: 'absolute',\n      transition: 'transform ' + transitionDuration + 'ms',\n      transform: 'translate3d(0, 0, 0) scale(1)',\n      transformOrigin: 'center center',\n      willChange: 'transform, top, left'\n    },\n    zoomContainer: {\n      position: 'fixed',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      zIndex: 999\n    },\n    overlay: {\n      position: 'absolute',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      backgroundColor: '#fff',\n      opacity: 0,\n      transition: 'opacity ' + transitionDuration + 'ms'\n    }\n  },\n  transitionDuration: transitionDuration\n};\nexports[\"default\"] = defaults;","'use strict';\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar createPortalContainer = exports.createPortalContainer = function createPortalContainer(tag) {\n  var portal = document.createElement(tag);\n  document.body.appendChild(portal);\n  return portal;\n};\n\nvar removePortalContainer = exports.removePortalContainer = function removePortalContainer(portal) {\n  document.body.removeChild(portal);\n};\n\nvar fetchImage = exports.fetchImage = function fetchImage(image, cb) {\n  var src = image.src,\n      srcSet = image.srcSet,\n      sizes = image.sizes;\n  var img = new Image();\n\n  var onLoad = function onLoad() {\n    cb(img);\n    /**\n     * If using srcset, future resize events can trigger\n     * additional onload events to fire.\n     * Remove listener after first load\n     */\n\n    img.removeEventListener('load', onLoad);\n  };\n\n  img.addEventListener('load', onLoad);\n  img.src = src;\n  if (srcSet) img.srcset = srcSet;\n  if (sizes) img.sizes = sizes;\n};\n/**\n * Figure out how much to scale based\n * solely on no maxing out the browser\n */\n\n\nvar getScale = exports.getScale = function getScale(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      zoomMargin = _ref.zoomMargin;\n  var scaleX = window.innerWidth / (width + zoomMargin);\n  var scaleY = window.innerHeight / (height + zoomMargin);\n  return Math.min(scaleX, scaleY);\n};\n/**\n * Figure out how much to scale so you're\n * not larger than the original image\n */\n\n\nvar getMaxDimensionScale = exports.getMaxDimensionScale = function getMaxDimensionScale(_ref2) {\n  var width = _ref2.width,\n      height = _ref2.height,\n      naturalWidth = _ref2.naturalWidth,\n      naturalHeight = _ref2.naturalHeight,\n      zoomMargin = _ref2.zoomMargin;\n  var scale = getScale({\n    width: naturalWidth,\n    height: naturalHeight,\n    zoomMargin: zoomMargin\n  });\n  var ratio = naturalWidth > naturalHeight ? naturalWidth / width : naturalHeight / height;\n  return scale > 1 ? ratio : scale * ratio;\n};\n\nvar isMaxDimension = exports.isMaxDimension = function isMaxDimension(img) {\n  return img.clientWidth >= img.naturalWidth || img.clientHeight >= img.naturalHeight;\n};","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n","'use strict';\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar enterKey = {\n  keys: ['Enter'],\n  keyCode: 13\n};\nvar tabKey = {\n  keys: ['Tab'],\n  keyCode: 9\n};\nvar spaceBarKey = {\n  keys: [' '],\n  keyCode: 32\n};\nvar escapeKey = {\n  keys: ['Escape', 'Esc'],\n  keyCode: 27\n  /**\n   * Per the MDN, KeyboardEvent.keyCode and KeyboardEvent.which\n   * are deprecated. KeyboardEvent.code is not to be used to\n   * determine what character corresponds with a key event\n   * and is also not supported on Edge. KeyboardEvent.key is the\n   * preferred method, but seems less reliable than keyCode given\n   * it returns different strings for different browsers; ex: \"Escape\"\n   * in Chrome, but \"Esc\" in Edge. This function future proofs\n   * against deprecation, while still giving preference to the more\n   * reliable keyCode.\n   * https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyCode\n   * https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/code\n   * https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key\n   * https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/which\n   *\n   * KeyMap : { keyCode: Number, keys: [ String ] }\n   * isKey : KeyMap -> KeyboardEvent -> Boolean\n   */\n\n};\n\nvar isKey = function isKey(_ref) {\n  var keyCode = _ref.keyCode,\n      keys = _ref.keys;\n  return function (e) {\n    return e.keyCode ? e.keyCode === keyCode : keys.indexOf(e.key) !== -1;\n  };\n}; // is<X>Key : KeyboardEvent -> Boolean\n\n\nvar isEnterOrSpaceBarKey = exports.isEnterOrSpaceBarKey = function isEnterOrSpaceBarKey(e) {\n  return isKey(enterKey)(e) || isSpaceBarKey(e);\n};\n\nvar isTabKey = exports.isTabKey = isKey(tabKey);\nvar isSpaceBarKey = exports.isSpaceBarKey = isKey(spaceBarKey);\nvar isEscapeKey = exports.isEscapeKey = isKey(escapeKey);","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar logDeprecationNotice = function logDeprecationNotice(prop, replacement) {\n  if (process.env.NODE_ENV === \"production\") {\n    return;\n  }\n\n  console.log(\"\\n    The \\\"\" + prop + \"\\\" prop is now deprecated and will be removed in the next major version\\n    of \\\"gatsby-image\\\".\\n    \");\n\n  if (replacement) {\n    console.log(\"Please use \" + replacement + \" instead of \\\"\" + prop + \"\\\".\");\n  }\n}; // Handle legacy props during their deprecation phase\n\n\nvar convertProps = function convertProps(props) {\n  var convertedProps = (0, _extends2.default)({}, props);\n  var resolutions = convertedProps.resolutions,\n      sizes = convertedProps.sizes,\n      critical = convertedProps.critical;\n\n  if (resolutions) {\n    convertedProps.fixed = resolutions;\n    delete convertedProps.resolutions;\n  }\n\n  if (sizes) {\n    convertedProps.fluid = sizes;\n    delete convertedProps.sizes;\n  }\n\n  if (critical) {\n    logDeprecationNotice(\"critical\", \"the native \\\"loading\\\" attribute\");\n    convertedProps.loading = \"eager\";\n  } // convert fluid & fixed to arrays so we only have to work with arrays\n\n\n  if (convertedProps.fluid) {\n    convertedProps.fluid = groupByMedia([].concat(convertedProps.fluid));\n  }\n\n  if (convertedProps.fixed) {\n    convertedProps.fixed = groupByMedia([].concat(convertedProps.fixed));\n  }\n\n  return convertedProps;\n};\n/**\n * Find the source of an image to use as a key in the image cache.\n * Use `the first image in either `fixed` or `fluid`\n * @param {{fluid: {src: string}[], fixed: {src: string}[]}} args\n * @return {string}\n */\n\n\nvar getImageSrcKey = function getImageSrcKey(_ref) {\n  var fluid = _ref.fluid,\n      fixed = _ref.fixed;\n  var data = fluid && fluid[0] || fixed && fixed[0];\n  return data.src;\n}; // Cache if we've seen an image before so we don't bother with\n// lazy-loading & fading in on subsequent mounts.\n\n\nvar imageCache = Object.create({});\n\nvar inImageCache = function inImageCache(props) {\n  var convertedProps = convertProps(props); // Find src\n\n  var src = getImageSrcKey(convertedProps);\n  return imageCache[src] || false;\n};\n\nvar activateCacheForImage = function activateCacheForImage(props) {\n  var convertedProps = convertProps(props); // Find src\n\n  var src = getImageSrcKey(convertedProps);\n  imageCache[src] = true;\n}; // Native lazy-loading support: https://addyosmani.com/blog/lazy-loading/\n\n\nvar hasNativeLazyLoadSupport = typeof HTMLImageElement !== \"undefined\" && \"loading\" in HTMLImageElement.prototype;\nvar isBrowser = typeof window !== \"undefined\";\nvar hasIOSupport = isBrowser && window.IntersectionObserver;\nvar io;\nvar listeners = new WeakMap();\n\nfunction getIO() {\n  if (typeof io === \"undefined\" && typeof window !== \"undefined\" && window.IntersectionObserver) {\n    io = new window.IntersectionObserver(function (entries) {\n      entries.forEach(function (entry) {\n        if (listeners.has(entry.target)) {\n          var cb = listeners.get(entry.target); // Edge doesn't currently support isIntersecting, so also test for an intersectionRatio > 0\n\n          if (entry.isIntersecting || entry.intersectionRatio > 0) {\n            io.unobserve(entry.target);\n            listeners.delete(entry.target);\n            cb();\n          }\n        }\n      });\n    }, {\n      rootMargin: \"200px\"\n    });\n  }\n\n  return io;\n}\n\nfunction generateImageSources(imageVariants) {\n  return imageVariants.map(function (_ref2) {\n    var src = _ref2.src,\n        srcSet = _ref2.srcSet,\n        srcSetWebp = _ref2.srcSetWebp,\n        media = _ref2.media,\n        sizes = _ref2.sizes;\n    return _react.default.createElement(_react.default.Fragment, {\n      key: src\n    }, srcSetWebp && _react.default.createElement(\"source\", {\n      type: \"image/webp\",\n      media: media,\n      srcSet: srcSetWebp,\n      sizes: sizes\n    }), _react.default.createElement(\"source\", {\n      media: media,\n      srcSet: srcSet,\n      sizes: sizes\n    }));\n  });\n} // Return an array ordered by elements having a media prop, does not use\n// native sort, as a stable sort is not guaranteed by all browsers/versions\n\n\nfunction groupByMedia(imageVariants) {\n  var withMedia = [];\n  var without = [];\n  imageVariants.forEach(function (variant) {\n    return (variant.media ? withMedia : without).push(variant);\n  });\n\n  if (without.length > 1 && process.env.NODE_ENV !== \"production\") {\n    console.warn(\"We've found \" + without.length + \" sources without a media property. They might be ignored by the browser, see: https://www.gatsbyjs.org/packages/gatsby-image/#art-directing-multiple-images\");\n  }\n\n  return withMedia.concat(without);\n}\n\nfunction generateTracedSVGSources(imageVariants) {\n  return imageVariants.map(function (_ref3) {\n    var src = _ref3.src,\n        media = _ref3.media,\n        tracedSVG = _ref3.tracedSVG;\n    return _react.default.createElement(\"source\", {\n      key: src,\n      media: media,\n      srcSet: tracedSVG\n    });\n  });\n}\n\nfunction generateBase64Sources(imageVariants) {\n  return imageVariants.map(function (_ref4) {\n    var src = _ref4.src,\n        media = _ref4.media,\n        base64 = _ref4.base64;\n    return _react.default.createElement(\"source\", {\n      key: src,\n      media: media,\n      srcSet: base64\n    });\n  });\n}\n\nfunction generateNoscriptSource(_ref5, isWebp) {\n  var srcSet = _ref5.srcSet,\n      srcSetWebp = _ref5.srcSetWebp,\n      media = _ref5.media,\n      sizes = _ref5.sizes;\n  var src = isWebp ? srcSetWebp : srcSet;\n  var mediaAttr = media ? \"media=\\\"\" + media + \"\\\" \" : \"\";\n  var typeAttr = isWebp ? \"type='image/webp' \" : \"\";\n  var sizesAttr = sizes ? \"sizes=\\\"\" + sizes + \"\\\" \" : \"\";\n  return \"<source \" + typeAttr + mediaAttr + \"srcset=\\\"\" + src + \"\\\" \" + sizesAttr + \"/>\";\n}\n\nfunction generateNoscriptSources(imageVariants) {\n  return imageVariants.map(function (variant) {\n    return (variant.srcSetWebp ? generateNoscriptSource(variant, true) : \"\") + generateNoscriptSource(variant);\n  }).join(\"\");\n}\n\nvar listenToIntersections = function listenToIntersections(el, cb) {\n  var observer = getIO();\n\n  if (observer) {\n    observer.observe(el);\n    listeners.set(el, cb);\n  }\n\n  return function () {\n    observer.unobserve(el);\n    listeners.delete(el);\n  };\n};\n\nvar noscriptImg = function noscriptImg(props) {\n  // Check if prop exists before adding each attribute to the string output below to prevent\n  // HTML validation issues caused by empty values like width=\"\" and height=\"\"\n  var src = props.src ? \"src=\\\"\" + props.src + \"\\\" \" : \"src=\\\"\\\" \"; // required attribute\n\n  var sizes = props.sizes ? \"sizes=\\\"\" + props.sizes + \"\\\" \" : \"\";\n  var srcSet = props.srcSet ? \"srcset=\\\"\" + props.srcSet + \"\\\" \" : \"\";\n  var title = props.title ? \"title=\\\"\" + props.title + \"\\\" \" : \"\";\n  var alt = props.alt ? \"alt=\\\"\" + props.alt + \"\\\" \" : \"alt=\\\"\\\" \"; // required attribute\n\n  var width = props.width ? \"width=\\\"\" + props.width + \"\\\" \" : \"\";\n  var height = props.height ? \"height=\\\"\" + props.height + \"\\\" \" : \"\";\n  var crossOrigin = props.crossOrigin ? \"crossorigin=\\\"\" + props.crossOrigin + \"\\\" \" : \"\";\n  var loading = props.loading ? \"loading=\\\"\" + props.loading + \"\\\" \" : \"\";\n  var draggable = props.draggable ? \"draggable=\\\"\" + props.draggable + \"\\\" \" : \"\";\n  var sources = generateNoscriptSources(props.imageVariants);\n  return \"<picture>\" + sources + \"<img \" + loading + width + height + sizes + srcSet + src + alt + title + crossOrigin + draggable + \"style=\\\"position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center\\\"/></picture>\";\n}; // Earlier versions of gatsby-image during the 2.x cycle did not wrap\n// the `Img` component in a `picture` element. This maintains compatibility\n// until a breaking change can be introduced in the next major release\n\n\nvar Placeholder = function Placeholder(_ref6) {\n  var src = _ref6.src,\n      imageVariants = _ref6.imageVariants,\n      generateSources = _ref6.generateSources,\n      spreadProps = _ref6.spreadProps;\n\n  var baseImage = _react.default.createElement(Img, (0, _extends2.default)({\n    src: src\n  }, spreadProps));\n\n  return imageVariants.length > 1 ? _react.default.createElement(\"picture\", null, generateSources(imageVariants), baseImage) : baseImage;\n};\n\nvar Img = _react.default.forwardRef(function (props, ref) {\n  var sizes = props.sizes,\n      srcSet = props.srcSet,\n      src = props.src,\n      style = props.style,\n      onLoad = props.onLoad,\n      onError = props.onError,\n      loading = props.loading,\n      draggable = props.draggable,\n      otherProps = (0, _objectWithoutPropertiesLoose2.default)(props, [\"sizes\", \"srcSet\", \"src\", \"style\", \"onLoad\", \"onError\", \"loading\", \"draggable\"]);\n  return _react.default.createElement(\"img\", (0, _extends2.default)({\n    sizes: sizes,\n    srcSet: srcSet,\n    src: src\n  }, otherProps, {\n    onLoad: onLoad,\n    onError: onError,\n    ref: ref,\n    loading: loading,\n    draggable: draggable,\n    style: (0, _extends2.default)({\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      width: \"100%\",\n      height: \"100%\",\n      objectFit: \"cover\",\n      objectPosition: \"center\"\n    }, style)\n  }));\n});\n\nImg.propTypes = {\n  style: _propTypes.default.object,\n  onError: _propTypes.default.func,\n  onLoad: _propTypes.default.func\n};\n\nvar Image =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inheritsLoose2.default)(Image, _React$Component);\n\n  function Image(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this; // If this image has already been loaded before then we can assume it's\n    // already in the browser cache so it's cheap to just show directly.\n\n    _this.seenBefore = isBrowser && inImageCache(props);\n    _this.addNoScript = !(props.critical && !props.fadeIn);\n    _this.useIOSupport = !hasNativeLazyLoadSupport && hasIOSupport && !props.critical && !_this.seenBefore;\n    var isVisible = props.critical || isBrowser && (hasNativeLazyLoadSupport || !_this.useIOSupport);\n    _this.state = {\n      isVisible: isVisible,\n      imgLoaded: false,\n      imgCached: false,\n      fadeIn: !_this.seenBefore && props.fadeIn\n    };\n    _this.imageRef = _react.default.createRef();\n    _this.handleImageLoaded = _this.handleImageLoaded.bind((0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this)));\n    _this.handleRef = _this.handleRef.bind((0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this)));\n    return _this;\n  }\n\n  var _proto = Image.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.state.isVisible && typeof this.props.onStartLoad === \"function\") {\n      this.props.onStartLoad({\n        wasCached: inImageCache(this.props)\n      });\n    }\n\n    if (this.props.critical) {\n      var img = this.imageRef.current;\n\n      if (img && img.complete) {\n        this.handleImageLoaded();\n      }\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.cleanUpListeners) {\n      this.cleanUpListeners();\n    }\n  }; // Specific to IntersectionObserver based lazy-load support\n\n\n  _proto.handleRef = function handleRef(ref) {\n    var _this2 = this;\n\n    if (this.useIOSupport && ref) {\n      this.cleanUpListeners = listenToIntersections(ref, function () {\n        var imageInCache = inImageCache(_this2.props);\n\n        if (!_this2.state.isVisible && typeof _this2.props.onStartLoad === \"function\") {\n          _this2.props.onStartLoad({\n            wasCached: imageInCache\n          });\n        } // imgCached and imgLoaded must update after isVisible,\n        // Once isVisible is true, imageRef becomes accessible, which imgCached needs access to.\n        // imgLoaded and imgCached are in a 2nd setState call to be changed together,\n        // avoiding initiating unnecessary animation frames from style changes.\n\n\n        _this2.setState({\n          isVisible: true\n        }, function () {\n          return _this2.setState({\n            imgLoaded: imageInCache,\n            // `currentSrc` should be a string, but can be `undefined` in IE,\n            // !! operator validates the value is not undefined/null/\"\"\n            imgCached: !!_this2.imageRef.current.currentSrc\n          });\n        });\n      });\n    }\n  };\n\n  _proto.handleImageLoaded = function handleImageLoaded() {\n    activateCacheForImage(this.props);\n    this.setState({\n      imgLoaded: true\n    });\n\n    if (this.props.onLoad) {\n      this.props.onLoad();\n    }\n  };\n\n  _proto.render = function render() {\n    var _convertProps = convertProps(this.props),\n        title = _convertProps.title,\n        alt = _convertProps.alt,\n        className = _convertProps.className,\n        _convertProps$style = _convertProps.style,\n        style = _convertProps$style === void 0 ? {} : _convertProps$style,\n        _convertProps$imgStyl = _convertProps.imgStyle,\n        imgStyle = _convertProps$imgStyl === void 0 ? {} : _convertProps$imgStyl,\n        _convertProps$placeho = _convertProps.placeholderStyle,\n        placeholderStyle = _convertProps$placeho === void 0 ? {} : _convertProps$placeho,\n        placeholderClassName = _convertProps.placeholderClassName,\n        fluid = _convertProps.fluid,\n        fixed = _convertProps.fixed,\n        backgroundColor = _convertProps.backgroundColor,\n        durationFadeIn = _convertProps.durationFadeIn,\n        Tag = _convertProps.Tag,\n        itemProp = _convertProps.itemProp,\n        loading = _convertProps.loading,\n        draggable = _convertProps.draggable;\n\n    var shouldReveal = this.state.fadeIn === false || this.state.imgLoaded;\n    var shouldFadeIn = this.state.fadeIn === true && !this.state.imgCached;\n    var imageStyle = (0, _extends2.default)({\n      opacity: shouldReveal ? 1 : 0,\n      transition: shouldFadeIn ? \"opacity \" + durationFadeIn + \"ms\" : \"none\"\n    }, imgStyle);\n    var bgColor = typeof backgroundColor === \"boolean\" ? \"lightgray\" : backgroundColor;\n    var delayHideStyle = {\n      transitionDelay: durationFadeIn + \"ms\"\n    };\n    var imagePlaceholderStyle = (0, _extends2.default)({\n      opacity: this.state.imgLoaded ? 0 : 1\n    }, shouldFadeIn && delayHideStyle, imgStyle, placeholderStyle);\n    var placeholderImageProps = {\n      title: title,\n      alt: !this.state.isVisible ? alt : \"\",\n      style: imagePlaceholderStyle,\n      className: placeholderClassName\n    };\n\n    if (fluid) {\n      var imageVariants = fluid;\n      var image = imageVariants[0];\n      return _react.default.createElement(Tag, {\n        className: (className ? className : \"\") + \" gatsby-image-wrapper\",\n        style: (0, _extends2.default)({\n          position: \"relative\",\n          overflow: \"hidden\"\n        }, style),\n        ref: this.handleRef,\n        key: \"fluid-\" + JSON.stringify(image.srcSet)\n      }, _react.default.createElement(Tag, {\n        style: {\n          width: \"100%\",\n          paddingBottom: 100 / image.aspectRatio + \"%\"\n        }\n      }), bgColor && _react.default.createElement(Tag, {\n        title: title,\n        style: (0, _extends2.default)({\n          backgroundColor: bgColor,\n          position: \"absolute\",\n          top: 0,\n          bottom: 0,\n          opacity: !this.state.imgLoaded ? 1 : 0,\n          right: 0,\n          left: 0\n        }, shouldFadeIn && delayHideStyle)\n      }), image.base64 && _react.default.createElement(Placeholder, {\n        src: image.base64,\n        spreadProps: placeholderImageProps,\n        imageVariants: imageVariants,\n        generateSources: generateBase64Sources\n      }), image.tracedSVG && _react.default.createElement(Placeholder, {\n        src: image.tracedSVG,\n        spreadProps: placeholderImageProps,\n        imageVariants: imageVariants,\n        generateSources: generateTracedSVGSources\n      }), this.state.isVisible && _react.default.createElement(\"picture\", null, generateImageSources(imageVariants), _react.default.createElement(Img, {\n        alt: alt,\n        title: title,\n        sizes: image.sizes,\n        src: image.src,\n        crossOrigin: this.props.crossOrigin,\n        srcSet: image.srcSet,\n        style: imageStyle,\n        ref: this.imageRef,\n        onLoad: this.handleImageLoaded,\n        onError: this.props.onError,\n        itemProp: itemProp,\n        loading: loading,\n        draggable: draggable\n      })), this.addNoScript && _react.default.createElement(\"noscript\", {\n        dangerouslySetInnerHTML: {\n          __html: noscriptImg((0, _extends2.default)({\n            alt: alt,\n            title: title,\n            loading: loading\n          }, image, {\n            imageVariants: imageVariants\n          }))\n        }\n      }));\n    }\n\n    if (fixed) {\n      var _imageVariants = fixed;\n      var _image = _imageVariants[0];\n      var divStyle = (0, _extends2.default)({\n        position: \"relative\",\n        overflow: \"hidden\",\n        display: \"inline-block\",\n        width: _image.width,\n        height: _image.height\n      }, style);\n\n      if (style.display === \"inherit\") {\n        delete divStyle.display;\n      }\n\n      return _react.default.createElement(Tag, {\n        className: (className ? className : \"\") + \" gatsby-image-wrapper\",\n        style: divStyle,\n        ref: this.handleRef,\n        key: \"fixed-\" + JSON.stringify(_image.srcSet)\n      }, bgColor && _react.default.createElement(Tag, {\n        title: title,\n        style: (0, _extends2.default)({\n          backgroundColor: bgColor,\n          width: _image.width,\n          opacity: !this.state.imgLoaded ? 1 : 0,\n          height: _image.height\n        }, shouldFadeIn && delayHideStyle)\n      }), _image.base64 && _react.default.createElement(Placeholder, {\n        src: _image.base64,\n        spreadProps: placeholderImageProps,\n        imageVariants: _imageVariants,\n        generateSources: generateBase64Sources\n      }), _image.tracedSVG && _react.default.createElement(Placeholder, {\n        src: _image.tracedSVG,\n        spreadProps: placeholderImageProps,\n        imageVariants: _imageVariants,\n        generateSources: generateTracedSVGSources\n      }), this.state.isVisible && _react.default.createElement(\"picture\", null, generateImageSources(_imageVariants), _react.default.createElement(Img, {\n        alt: alt,\n        title: title,\n        width: _image.width,\n        height: _image.height,\n        sizes: _image.sizes,\n        src: _image.src,\n        crossOrigin: this.props.crossOrigin,\n        srcSet: _image.srcSet,\n        style: imageStyle,\n        ref: this.imageRef,\n        onLoad: this.handleImageLoaded,\n        onError: this.props.onError,\n        itemProp: itemProp,\n        loading: loading,\n        draggable: draggable\n      })), this.addNoScript && _react.default.createElement(\"noscript\", {\n        dangerouslySetInnerHTML: {\n          __html: noscriptImg((0, _extends2.default)({\n            alt: alt,\n            title: title,\n            loading: loading\n          }, _image, {\n            imageVariants: _imageVariants\n          }))\n        }\n      }));\n    }\n\n    return null;\n  };\n\n  return Image;\n}(_react.default.Component);\n\nImage.defaultProps = {\n  fadeIn: true,\n  durationFadeIn: 500,\n  alt: \"\",\n  Tag: \"div\",\n  // We set it to `lazy` by default because it's best to default to a performant\n  // setting and let the user \"opt out\" to `eager`\n  loading: \"lazy\"\n};\n\nvar fixedObject = _propTypes.default.shape({\n  width: _propTypes.default.number.isRequired,\n  height: _propTypes.default.number.isRequired,\n  src: _propTypes.default.string.isRequired,\n  srcSet: _propTypes.default.string.isRequired,\n  base64: _propTypes.default.string,\n  tracedSVG: _propTypes.default.string,\n  srcWebp: _propTypes.default.string,\n  srcSetWebp: _propTypes.default.string,\n  media: _propTypes.default.string\n});\n\nvar fluidObject = _propTypes.default.shape({\n  aspectRatio: _propTypes.default.number.isRequired,\n  src: _propTypes.default.string.isRequired,\n  srcSet: _propTypes.default.string.isRequired,\n  sizes: _propTypes.default.string.isRequired,\n  base64: _propTypes.default.string,\n  tracedSVG: _propTypes.default.string,\n  srcWebp: _propTypes.default.string,\n  srcSetWebp: _propTypes.default.string,\n  media: _propTypes.default.string\n});\n\nImage.propTypes = {\n  resolutions: fixedObject,\n  sizes: fluidObject,\n  fixed: _propTypes.default.oneOfType([fixedObject, _propTypes.default.arrayOf(fixedObject)]),\n  fluid: _propTypes.default.oneOfType([fluidObject, _propTypes.default.arrayOf(fluidObject)]),\n  fadeIn: _propTypes.default.bool,\n  durationFadeIn: _propTypes.default.number,\n  title: _propTypes.default.string,\n  alt: _propTypes.default.string,\n  className: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.object]),\n  // Support Glamor's css prop.\n  critical: _propTypes.default.bool,\n  crossOrigin: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.bool]),\n  style: _propTypes.default.object,\n  imgStyle: _propTypes.default.object,\n  placeholderStyle: _propTypes.default.object,\n  placeholderClassName: _propTypes.default.string,\n  backgroundColor: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.bool]),\n  onLoad: _propTypes.default.func,\n  onError: _propTypes.default.func,\n  onStartLoad: _propTypes.default.func,\n  Tag: _propTypes.default.string,\n  itemProp: _propTypes.default.string,\n  loading: _propTypes.default.oneOf([\"auto\", \"lazy\", \"eager\"]),\n  draggable: _propTypes.default.bool\n};\nvar _default = Image;\nexports.default = _default;","'use strict';\n// B.2.3.6 String.prototype.fixed()\nrequire('./_string-html')('fixed', function (createHTML) {\n  return function fixed() {\n    return createHTML(this, 'tt', '', '');\n  };\n});\n","'use strict';\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ImageZoom = require('./ImageZoom');\n\nvar _ImageZoom2 = _interopRequireDefault(_ImageZoom);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nexports[\"default\"] = _ImageZoom2[\"default\"];","'use strict';\n\nrequire(\"core-js/modules/es6.number.constructor\");\n\nrequire(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _defaults = require('./defaults');\n\nvar _defaults2 = _interopRequireDefault(_defaults);\n\nvar _helpers = require('./helpers');\n\nvar _keyboardEvents = require('./keyboardEvents');\n\nvar _EventsWrapper = require('./EventsWrapper');\n\nvar _EventsWrapper2 = _interopRequireDefault(_EventsWrapper);\n\nvar _Zoom = require('./Zoom');\n\nvar _Zoom2 = _interopRequireDefault(_Zoom);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar isControlled = function isControlled(isZoomed) {\n  return isZoomed !== null && isZoomed !== undefined;\n};\n\nvar focusableTabIndex = 0;\nvar unfocusableTabIndex = -1;\n\nvar ImageZoom = function (_Component) {\n  _inherits(ImageZoom, _Component);\n\n  function ImageZoom(props) {\n    _classCallCheck(this, ImageZoom);\n\n    var _this = _possibleConstructorReturn(this, (ImageZoom.__proto__ || Object.getPrototypeOf(ImageZoom)).call(this, props));\n\n    _this.state = {\n      isDisabled: false,\n      isZoomed: false,\n      wasZoomed: false,\n      src: props.image.src,\n      prevSrc: props.image.src,\n      isClosing: false\n    };\n    _this._handleKeyDown = _this._handleKeyDown.bind(_this);\n    _this._handleLoad = _this._handleLoad.bind(_this);\n    _this._handleLoadError = _this._handleLoadError.bind(_this);\n    _this._handleUnzoom = _this._handleUnzoom.bind(_this);\n    _this._handleZoom = _this._handleZoom.bind(_this);\n    return _this;\n  }\n\n  _createClass(ImageZoom, [{\n    key: 'componentDidUpdate',\n\n    /**\n     * When the component's state updates, check for changes\n     * and either zoom or start the unzoom procedure.\n     * NOTE: We need to differentiate whether this is a\n     * controlled or uncontrolled component and do the check\n     * based off of that.\n     */\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (!isControlled(prevProps.isZoomed) && isControlled(this.props.isZoomed)) {\n        throw new Error(_defaults2[\"default\"].errors.uncontrolled);\n      } else if (isControlled(prevProps.isZoomed) && !isControlled(this.props.isZoomed)) {\n        throw new Error(_defaults2[\"default\"].errors.controlled);\n      }\n\n      var prevIsZoomed = isControlled(prevProps.isZoomed) ? prevProps.isZoomed : prevState.isZoomed;\n      var isZoomed = isControlled(this.props.isZoomed) ? this.props.isZoomed : this.state.isZoomed;\n\n      if (prevIsZoomed !== isZoomed && !isZoomed && this.portalInstance) {\n        this.portalInstance.unzoom({\n          force: true\n        });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          defaultStyles = _props.defaultStyles,\n          image = _props.image,\n          propsIsZoomed = _props.isZoomed,\n          shouldRespectMaxDimension = _props.shouldRespectMaxDimension,\n          zoomImage = _props.zoomImage,\n          zoomMargin = _props.zoomMargin,\n          _state = this.state,\n          isDisabled = _state.isDisabled,\n          stateIsZoomed = _state.isZoomed,\n          src = _state.src,\n          isClosing = _state.isClosing;\n      /**\n       * Take whatever attributes you want to pass the image\n       * and then override with the properties we need,\n       * including using state as source of truth for hi/low-res\n       * version img src.\n       * Also, disable any clicking if the component is\n       * already at its maximum dimensions.\n       */\n\n      var attrs = _extends({}, !isDisabled && {\n        tabIndex: focusableTabIndex\n      }, image, {\n        src: src,\n        style: this._getImageStyle()\n      }, !isDisabled && {\n        onMouseDown: this._preventFocus,\n        onClick: this._handleZoom,\n        onKeyDown: this._handleKeyDown\n      });\n\n      var isZoomed = isControlled(propsIsZoomed) ? propsIsZoomed : stateIsZoomed;\n      return _react2[\"default\"].createElement(_react.Fragment, null, _react2[\"default\"].createElement('img', _extends({}, attrs, {\n        key: 'image',\n        ref: function ref(x) {\n          _this2.image = x;\n        },\n        onLoad: this._handleLoad,\n        onError: this._handleLoadError\n      })), this.image && (isZoomed || isClosing) ? _react2[\"default\"].createElement(_EventsWrapper2[\"default\"], {\n        key: 'portal',\n        ref: function ref(node) {\n          _this2.portalInstance = node;\n        },\n        controlledEventFn: this._getControlledEventFn(),\n        allowAccessibilityClose: this._allowTabNavigation()\n      }, _react2[\"default\"].createElement(_Zoom2[\"default\"], {\n        defaultStyles: defaultStyles,\n        image: this.image,\n        shouldRespectMaxDimension: shouldRespectMaxDimension,\n        zoomImage: zoomImage,\n        zoomMargin: Number(zoomMargin),\n        onUnzoom: this._handleUnzoom\n      })) : null);\n    }\n    /**\n     * If the image should not exceed its original\n     * dimensions AND there is no zoomImage AND the\n     * image is already rendered at its maximum dimensions,\n     * then we shouldn't try to zoom it at all. We currently\n     * only do this on componentDidMount, though on window\n     * resize could be something to consider if necessary.\n     */\n\n  }, {\n    key: '_checkShouldDisableComponent',\n    value: function _checkShouldDisableComponent() {\n      var _props2 = this.props,\n          shouldRespectMaxDimension = _props2.shouldRespectMaxDimension,\n          zoomImage = _props2.zoomImage;\n      var isDisabled = shouldRespectMaxDimension && !zoomImage && (0, _helpers.isMaxDimension)(this.image);\n      this.setState({\n        isDisabled: isDisabled\n      });\n    }\n  }, {\n    key: '_getImageStyle',\n    value: function _getImageStyle() {\n      var _props3 = this.props,\n          defaultStyles = _props3.defaultStyles,\n          image = _props3.image,\n          isZoomedP = _props3.isZoomed,\n          _state2 = this.state,\n          isDisabled = _state2.isDisabled,\n          isZoomedSt = _state2.isZoomed,\n          isClosing = _state2.isClosing;\n      var isHidden = isZoomedSt || isZoomedP || isClosing;\n      return _extends({}, _defaults2[\"default\"].styles.image, isHidden && {\n        visibility: 'hidden'\n      }, defaultStyles.image, image.style, isDisabled && {\n        cursor: 'inherit'\n      });\n    }\n    /**\n     * We need to wait for the main image\n     * to load before we can do any width/height\n     * checks on it.\n     */\n\n  }, {\n    key: '_handleLoad',\n    value: function _handleLoad(e) {\n      this._checkShouldDisableComponent();\n\n      var cb = this.props.image.onLoad || Function.prototype;\n      cb(e);\n    }\n  }, {\n    key: '_handleLoadError',\n    value: function _handleLoadError(e) {\n      this.setState({\n        isDisabled: true\n      });\n      var cb = this.props.image.onError || Function.prototype;\n      cb(e);\n    }\n  }, {\n    key: '_handleKeyDown',\n    value: function _handleKeyDown(e) {\n      if ((0, _keyboardEvents.isEnterOrSpaceBarKey)(e)) {\n        e.preventDefault();\n\n        this._handleZoom(e);\n      }\n    }\n  }, {\n    key: '_preventFocus',\n    value: function _preventFocus(e) {\n      e.preventDefault();\n    }\n  }, {\n    key: '_handleZoom',\n    value: function _handleZoom(e) {\n      if (!isControlled(this.props.isZoomed) && this.props.shouldHandleZoom(e)) {\n        this.setState({\n          isZoomed: true\n        }, this.props.onZoom);\n      } else {\n        this.props.onZoom();\n      }\n    }\n    /**\n     * This gets passed to the zoomed component as a callback\n     * to trigger when the time is right to shut down the zoom.\n     * If `shouldReplaceImage`, update the normal image we're showing\n     * with the zoomed image -- useful when wanting to replace a low-res\n     * image with a high-res one once it's already been downloaded.\n     * It also cleans up the zoom references and then updates state.\n     */\n\n  }, {\n    key: '_handleUnzoom',\n    value: function _handleUnzoom(src, allowRefocus) {\n      var _this3 = this;\n\n      return function () {\n        var changes = _extends({\n          isZoomed: false,\n          isClosing: false\n        }, _this3.props.shouldReplaceImage && {\n          src: src\n        });\n\n        _this3.setState(changes, _this3.props.onUnzoom);\n\n        if (allowRefocus && _this3._allowTabNavigation()) {\n          _this3.image.focus();\n        }\n      };\n    }\n  }, {\n    key: '_getControlledEventFn',\n    value: function _getControlledEventFn() {\n      return isControlled(this.props.isZoomed) ? this.props.onUnzoom : null;\n    }\n  }, {\n    key: '_allowTabNavigation',\n    value: function _allowTabNavigation() {\n      return this.image && this.image.tabIndex !== unfocusableTabIndex;\n    }\n  }], [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(props, state) {\n      /**\n       * When component is controlled, we need a flag\n       * set when it's about to close in order to keep\n       * hiding the original image on the page until the\n       * unzooming is complete\n       */\n      var isClosing = state.wasZoomed && !props.isZoomed || state.isClosing; // If the consumer wants to change the image's src, then so be it.\n\n      var src = props.image.src !== state.prevSrc ? props.image.src : state.src;\n      return {\n        src: src,\n        isClosing: isClosing,\n        // Keep track of previous props\n        wasZoomed: props.isZoomed,\n        prevSrc: props.image.src\n      };\n    }\n  }, {\n    key: 'defaultProps',\n    get: function get() {\n      return {\n        shouldReplaceImage: true,\n        shouldRespectMaxDimension: false,\n        zoomMargin: 40,\n        defaultStyles: {\n          zoomContainer: {},\n          overlay: {},\n          image: {},\n          zoomImage: {}\n        },\n        shouldHandleZoom: function shouldHandleZoom() {\n          return true;\n        },\n        onZoom: function onZoom() {},\n        onUnzoom: function onUnzoom() {}\n      };\n    }\n  }]);\n\n  return ImageZoom;\n}(_react.Component);\n\nexports[\"default\"] = ImageZoom;\nImageZoom.propTypes = {\n  image: (0, _propTypes.shape)({\n    src: _propTypes.string.isRequired,\n    alt: _propTypes.string,\n    className: _propTypes.string,\n    style: _propTypes.object\n  }).isRequired,\n  zoomImage: (0, _propTypes.shape)({\n    src: _propTypes.string,\n    alt: _propTypes.string,\n    className: _propTypes.string,\n    style: _propTypes.object\n  }),\n  defaultStyles: _propTypes.object,\n  isZoomed: _propTypes.bool,\n  shouldHandleZoom: _propTypes.func,\n  shouldReplaceImage: _propTypes.bool,\n  shouldRespectMaxDimension: _propTypes.bool,\n  onZoom: _propTypes.func,\n  onUnzoom: _propTypes.func\n};","'use strict';\n\nrequire(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _propTypes = require('prop-types');\n\nvar _defaults = require('./defaults');\n\nvar _defaults2 = _interopRequireDefault(_defaults);\n\nvar _helpers = require('./helpers');\n\nvar _keyboardEvents = require('./keyboardEvents');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar EventsWrapper = function (_Component) {\n  _inherits(EventsWrapper, _Component);\n\n  function EventsWrapper() {\n    _classCallCheck(this, EventsWrapper);\n\n    var _this = _possibleConstructorReturn(this, (EventsWrapper.__proto__ || Object.getPrototypeOf(EventsWrapper)).call(this));\n\n    _this.portal = (0, _helpers.createPortalContainer)('div');\n    _this.unzoom = _this.unzoom.bind(_this);\n    _this._handleScroll = _this._handleScroll.bind(_this);\n    _this._handleKeyDown = _this._handleKeyDown.bind(_this);\n    _this._handleResize = _this._handleResize.bind(_this);\n    _this._handleTouchStart = _this._handleTouchStart.bind(_this);\n    _this._handleTouchMove = _this._handleTouchMove.bind(_this);\n    _this._handleTouchEnd = _this._handleTouchEnd.bind(_this);\n    return _this;\n  }\n\n  _createClass(EventsWrapper, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.pageYOffset = window.pageYOffset;\n      this.loadTimeout = setTimeout(function () {\n        window.addEventListener('scroll', _this2._handleScroll);\n        window.addEventListener('keydown', _this2._handleKeyDown);\n        window.addEventListener('ontouchstart', _this2._handleTouchStart);\n        window.addEventListener('ontouchmove', _this2._handleTouchMove);\n        window.addEventListener('ontouchend', _this2._handleTouchEnd);\n        window.addEventListener('ontouchcancel', _this2._handleTouchEnd);\n        window.addEventListener('resize', _this2._handleResize);\n      }, _defaults2[\"default\"].transitionDuration);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      clearTimeout(this.loadTimeout);\n      window.removeEventListener('scroll', this._handleScroll);\n      window.removeEventListener('keydown', this._handleKeyDown);\n      window.removeEventListener('ontouchstart', this._handleTouchStart);\n      window.removeEventListener('ontouchmove', this._handleTouchMove);\n      window.removeEventListener('ontouchend', this._handleTouchEnd);\n      window.removeEventListener('ontouchcancel', this._handleTouchEnd);\n      window.removeEventListener('resize', this._handleResize);\n      (0, _helpers.removePortalContainer)(this.portal);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return this.portal ? (0, _reactDom.createPortal)(_react2[\"default\"].createElement('div', {\n        onClick: this.unzoom\n      }, this._cloneChild()), this.portal) : null;\n    }\n  }, {\n    key: 'unzoom',\n    value: function unzoom() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          force = _ref.force,\n          allowRefocus = _ref.allowRefocus;\n\n      if (this.props.controlledEventFn && !force) {\n        return this.props.controlledEventFn();\n      }\n\n      return this.child.unzoom(allowRefocus);\n    }\n  }, {\n    key: '_cloneChild',\n    value: function _cloneChild() {\n      var _this3 = this;\n\n      return _react2[\"default\"].cloneElement(_react2[\"default\"].Children.only(this.props.children), {\n        ref: function ref(child) {\n          _this3.child = child;\n        }\n      });\n    }\n  }, {\n    key: '_handleKeyDown',\n    value: function _handleKeyDown(e) {\n      if ((0, _keyboardEvents.isTabKey)(e)) {\n        e.preventDefault(); // prevent in-behind controls from grabbing focus\n\n        return;\n      }\n\n      var allowAccessibilityClose = this.props.allowAccessibilityClose;\n      var unzoomForEnterOrSpace = allowAccessibilityClose && (0, _keyboardEvents.isEnterOrSpaceBarKey)(e);\n      var unzoomForEscape = (0, _keyboardEvents.isEscapeKey)(e);\n\n      if (unzoomForEnterOrSpace) {\n        e.preventDefault(); // prevent space bar from scrolling\n      }\n\n      if (unzoomForEnterOrSpace || unzoomForEscape) {\n        this.unzoom({\n          allowRefocus: true\n        });\n      }\n    }\n  }, {\n    key: '_handleResize',\n    value: function _handleResize() {\n      this.forceUpdate();\n    }\n  }, {\n    key: '_handleScroll',\n    value: function _handleScroll() {\n      this.forceUpdate();\n      var scrollChange = Math.abs(window.pageYOffset - this.pageYOffset);\n\n      if (scrollChange > 10) {\n        this.unzoom();\n      }\n    }\n  }, {\n    key: '_handleTouchStart',\n    value: function _handleTouchStart(e) {\n      this.yTouchPosition = e.touches[0].clientY;\n    }\n  }, {\n    key: '_handleTouchMove',\n    value: function _handleTouchMove(e) {\n      this.forceUpdate();\n      var touchChange = Math.abs(e.touches[0].clientY - this.yTouchPosition);\n\n      if (touchChange > 10) {\n        this.unzoom();\n      }\n    }\n  }, {\n    key: '_handleTouchEnd',\n    value: function _handleTouchEnd() {\n      delete this.yTouchPosition;\n    }\n  }]);\n\n  return EventsWrapper;\n}(_react.Component);\n\nexports[\"default\"] = EventsWrapper;\nEventsWrapper.propTypes = {\n  children: _propTypes.element.isRequired,\n  getControlledEventFn: _propTypes.func\n};","'use strict';\n\nrequire(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _defaults = require('./defaults');\n\nvar _defaults2 = _interopRequireDefault(_defaults);\n\nvar _helpers = require('./helpers');\n\nvar _Overlay = require('./Overlay');\n\nvar _Overlay2 = _interopRequireDefault(_Overlay);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/**\n * The `tmpSrc` and `TmpImg` code here is a workaround\n * for a longstanding Firefox issue where replacing the\n * `src` of an `<img>` tag requires calculations and\n * results in a \"flicker\" of sorts.\n *\n * See https://github.com/rpearce/react-medium-image-zoom/issues/96\n * for further details.\n */\n\n\nvar Zoom = function (_Component) {\n  _inherits(Zoom, _Component);\n\n  function Zoom(props) {\n    _classCallCheck(this, Zoom);\n\n    var _this = _possibleConstructorReturn(this, (Zoom.__proto__ || Object.getPrototypeOf(Zoom)).call(this, props));\n\n    _this.state = {\n      hasLoaded: false,\n      isZoomed: true,\n      src: props.image.currentSrc || props.image.src,\n      tmpSrc: null\n    };\n    _this.unzoom = _this.unzoom.bind(_this);\n    _this._handleImageLoad = _this._handleImageLoad.bind(_this);\n    return _this;\n  }\n\n  _createClass(Zoom, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props$zoomImage = this.props.zoomImage,\n          src = _props$zoomImage.src,\n          srcSet = _props$zoomImage.srcSet;\n      this.setState({\n        hasLoaded: true\n      });\n\n      if (src || srcSet) {\n        (0, _helpers.fetchImage)(this.props.zoomImage, this._handleImageLoad);\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this2 = this; // If we have a `tmpSrc`, wait and then give it to `src`\n\n\n      if (!prevState.tmpSrc && this.state.tmpSrc) {\n        setTimeout(function () {\n          _this2.setState({\n            src: _this2.state.tmpSrc,\n            tmpSrc: null\n          });\n        }, 100);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          defaultStyles = _props.defaultStyles,\n          zoomImage = _props.zoomImage,\n          _state = this.state,\n          tmpSrc = _state.tmpSrc,\n          isZoomed = _state.isZoomed,\n          src = _state.src;\n\n      var style = this._getZoomImageStyle();\n\n      return _react2[\"default\"].createElement('div', {\n        style: this._getZoomContainerStyle()\n      }, _react2[\"default\"].createElement(_Overlay2[\"default\"], {\n        isVisible: isZoomed,\n        defaultStyles: defaultStyles\n      }), _react2[\"default\"].createElement('img', _extends({}, zoomImage, {\n        src: src,\n        style: style\n      })), _react2[\"default\"].createElement(TmpImg, _extends({}, zoomImage, {\n        src: tmpSrc,\n        style: style\n      })));\n    }\n  }, {\n    key: 'unzoom',\n    value: function unzoom(allowRefocus) {\n      var onUnzoom = this.props.onUnzoom(this.state.src, allowRefocus);\n      this.setState({\n        isZoomed: false\n      }, function () {\n        return setTimeout(onUnzoom, _defaults2[\"default\"].transitionDuration);\n      });\n    }\n  }, {\n    key: '_handleImageLoad',\n    value: function _handleImageLoad(img) {\n      // Only set state if component is still mounted\n      if (this.state.isZoomed) {\n        this.setState({\n          tmpSrc: img.currentSrc || img.src\n        });\n      }\n    }\n  }, {\n    key: '_getZoomContainerStyle',\n    value: function _getZoomContainerStyle() {\n      return _extends({}, _defaults2[\"default\"].styles.zoomContainer, this.props.defaultStyles.zoomContainer);\n    }\n  }, {\n    key: '_getZoomImageStyle',\n    value: function _getZoomImageStyle() {\n      var _props2 = this.props,\n          image = _props2.image,\n          shouldRespectMaxDimension = _props2.shouldRespectMaxDimension,\n          src = _props2.src,\n          zoomMargin = _props2.zoomMargin;\n      var imageOffset = image.getBoundingClientRect();\n      var top = imageOffset.top,\n          left = imageOffset.left;\n      var width = image.width,\n          height = image.height,\n          naturalWidth = image.naturalWidth,\n          naturalHeight = image.naturalHeight;\n      var style = {\n        top: top,\n        left: left,\n        width: width,\n        height: height\n      };\n\n      if (!this.state.hasLoaded || !this.state.isZoomed) {\n        return _extends({}, _defaults2[\"default\"].styles.zoomImage, this.props.defaultStyles.zoomImage, this.props.style, style);\n      } // Get the the coords for center of the viewport\n\n\n      var viewportX = document.body.clientWidth / 2;\n      var viewportY = window.innerHeight / 2; // Get the coords for center of the original image\n\n      var imageCenterX = imageOffset.left + width / 2;\n      var imageCenterY = imageOffset.top + height / 2; // Get offset amounts for image coords to be centered on screen\n\n      var translateX = viewportX - imageCenterX;\n      var translateY = viewportY - imageCenterY; // Figure out how much to scale the image\n\n      var scale = shouldRespectMaxDimension && !src ? (0, _helpers.getMaxDimensionScale)({\n        width: width,\n        height: height,\n        naturalWidth: naturalWidth,\n        naturalHeight: naturalHeight,\n        zoomMargin: zoomMargin\n      }) : (0, _helpers.getScale)({\n        width: width,\n        height: height,\n        zoomMargin: zoomMargin\n      });\n      var zoomStyle = {\n        transform: 'translate3d(' + translateX + 'px, ' + translateY + 'px, 0) scale(' + scale + ')'\n      };\n      return _extends({}, _defaults2[\"default\"].styles.zoomImage, this.props.defaultStyles.zoomImage, this.props.style, style, zoomStyle);\n    }\n  }], [{\n    key: 'defaultProps',\n    get: function get() {\n      return {\n        zoomImage: {}\n      };\n    }\n  }]);\n\n  return Zoom;\n}(_react.Component);\n\nexports[\"default\"] = Zoom;\nZoom.propTypes = {\n  defaultStyles: _propTypes.object.isRequired,\n  image: _propTypes.object.isRequired,\n  shouldRespectMaxDimension: _propTypes.bool,\n  zoomImage: (0, _propTypes.shape)({\n    src: _propTypes.string,\n    alt: _propTypes.string,\n    className: _propTypes.string,\n    style: _propTypes.object\n  }).isRequired,\n  zoomMargin: _propTypes.number.isRequired,\n  onUnzoom: _propTypes.func.isRequired\n};\n\nvar TmpImg = function TmpImg(_ref) {\n  var src = _ref.src,\n      style = _ref.style,\n      props = _objectWithoutProperties(_ref, ['src', 'style']);\n\n  return src ? _react2[\"default\"].createElement('img', _extends({}, props, {\n    src: src,\n    style: getTmpStyle(style)\n  })) : null;\n};\n\nvar tmpStyle = {\n  position: 'fixed',\n  visibility: 'hidden'\n};\n\nvar getTmpStyle = function getTmpStyle(style) {\n  return _extends({}, style, tmpStyle);\n};","'use strict';\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _defaults = require('./defaults');\n\nvar _defaults2 = _interopRequireDefault(_defaults);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar Overlay = function (_PureComponent) {\n  _inherits(Overlay, _PureComponent);\n\n  function Overlay(props) {\n    _classCallCheck(this, Overlay);\n\n    var _this = _possibleConstructorReturn(this, (Overlay.__proto__ || Object.getPrototypeOf(Overlay)).call(this, props));\n\n    _this.state = {\n      isMounted: false\n    };\n    return _this;\n  }\n\n  _createClass(Overlay, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.setState({\n        isMounted: true\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2[\"default\"].createElement('div', {\n        style: this._getStyle()\n      });\n    }\n  }, {\n    key: '_getStyle',\n    value: function _getStyle() {\n      var isVisible = this.state.isMounted && this.props.isVisible;\n      var opacity = isVisible & 1; // bitwise and; converts bool to 0 or 1\n\n      return _extends({}, _defaults2[\"default\"].styles.overlay, {\n        opacity: opacity\n      }, this.props.defaultStyles.overlay);\n    }\n  }]);\n\n  return Overlay;\n}(_react.PureComponent);\n\nexports[\"default\"] = Overlay;\nOverlay.propTypes = {\n  isVisible: _propTypes.bool.isRequired,\n  defaultStyles: _propTypes.object.isRequired\n};"],"sourceRoot":""}